<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>inheritance 继承 - Xu XueHua</title>
    <meta name="keywords" content="Xu XueHua"/>
    <meta name="description" content="Xu XueHua's public notes"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>

  <body>
    <div id="container">
      
<div id="header">
  <div class="post-nav"><a href="/">Home</a>&nbsp;&#187;&nbsp;<a href="/#Python">Python</a>&nbsp;&#187;&nbsp;inheritance 继承
    <span class="updated">Page Updated&nbsp;
      2018-08-28 14:27
    </span></div>
</div>
<div class="clearfix"></div>

<div class="page_title">inheritance 继承</div>

  <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#_1">继承</a><ul>
<li><a href="#_2">继承用途</a></li>
<li><a href="#super">super 方法</a></li>
<li><a href="#_3">类的继承</a><ul>
<li><a href="#_4">继承与可见性</a><ul>
<li><a href="#list">自定义特殊方法 (继承list类)</a></li>
</ul>
</li>
<li><a href="#_5">子类私有方法</a><ul>
<li><a href="#_6">接口</a></li>
</ul>
</li>
<li><a href="#_7">强行继承 (私有变量重写)</a></li>
</ul>
</li>
<li><a href="#_8">多继承</a><ul>
<li><a href="#_9">继承方法</a></li>
<li><a href="#_10">多继承顺序</a></li>
</ul>
</li>
<li><a href="#_11">查询父类</a></li>
<li><a href="#_12">组合调用</a></li>
<li><a href="#polymorphism">多态 Polymorphism</a></li>
<li><a href="#mro-method-resolution-order">MRO (Method Resolution Order)</a><ul>
<li><a href="#c3">C3算法</a><ul>
<li><a href="#merge">merge步骤</a></li>
</ul>
</li>
<li><a href="#mixin">MIXIN</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h1 id="_1">继承</h1>
<p>面向对象的一个特征</p>
<p>继承是共享的一种方式</p>
<h2 id="_2">继承用途</h2>
<p>继承基类的方法，并且做出自己的改变或者扩展（代码重用）；</p>
<p>声明某个子类兼容于某基类，定义一个接口类Interface，接口类中定义了一些接口名（就是函数名）且并未实现接口的功能，子类继承接口类，并且实现接口中的功能；</p>
<h2 id="super">super 方法</h2>
<p>父类，也可以称为超类，基类<br />
定一个父类的重名方法，称为重写<br />
子类中调用父类的方法，使用super对象<br />
super对象使用super方法生成</p>
<h2 id="_3">类的继承</h2>
<p>类可以继承其他类的内容，包括成员变量和成员函数</p>
<div class="hlcode"><pre><span class="n">class</span> <span class="n">People</span><span class="p">(</span><span class="n">object</span><span class="p">)</span><span class="o">:</span>

    <span class="n">def</span> <span class="n">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">)</span><span class="o">:</span>
        <span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="n">self</span><span class="p">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>

    <span class="n">def</span> <span class="n">eat</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
        <span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="o">%</span><span class="n">s</span> <span class="n">is</span> <span class="n">eating</span><span class="p">...</span><span class="err">&#39;</span> <span class="o">%</span> <span class="n">self</span><span class="p">.</span><span class="n">name</span><span class="p">)</span>

    <span class="n">def</span> <span class="n">sleep</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
        <span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="o">%</span><span class="n">s</span> <span class="n">is</span> <span class="n">sleeping</span><span class="p">...</span><span class="err">&#39;</span> <span class="o">%</span> <span class="n">self</span><span class="p">.</span><span class="n">name</span><span class="p">)</span>

    <span class="n">def</span> <span class="n">talk</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
        <span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="o">%</span><span class="n">s</span> <span class="n">is</span> <span class="n">talking</span><span class="p">...</span><span class="err">&#39;</span> <span class="o">%</span> <span class="n">self</span><span class="p">.</span><span class="n">name</span><span class="p">)</span>


<span class="n">class</span> <span class="n">Man</span><span class="p">(</span><span class="n">People</span><span class="p">)</span><span class="o">:</span>
    <span class="n">def</span> <span class="n">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">money</span><span class="p">)</span><span class="o">:</span>
        <span class="err">#</span> <span class="n">People</span><span class="p">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">)</span>  <span class="err">等同于下面</span>
        <span class="n">super</span><span class="p">(</span><span class="n">Man</span><span class="p">,</span> <span class="n">self</span><span class="p">).</span><span class="n">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">)</span>  <span class="err">#</span> <span class="err">新式写法</span>
        <span class="n">self</span><span class="p">.</span><span class="n">money</span> <span class="o">=</span> <span class="n">money</span>
        <span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="o">%</span><span class="n">s</span> <span class="n">has</span> <span class="o">%</span><span class="n">s</span> <span class="n">dollar</span><span class="err">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">money</span><span class="p">))</span>

    <span class="n">def</span> <span class="n">play</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
        <span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="o">%</span><span class="n">s</span> <span class="n">is</span> <span class="n">playing</span><span class="p">...</span><span class="err">&#39;</span> <span class="o">%</span> <span class="n">self</span><span class="p">.</span><span class="n">name</span><span class="p">)</span>

    <span class="n">def</span> <span class="n">sleep</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
        <span class="n">People</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">self</span><span class="p">)</span>
        <span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="n">man</span> <span class="n">is</span> <span class="n">sleeping</span><span class="p">...</span><span class="err">&#39;</span><span class="p">)</span>


<span class="n">class</span> <span class="n">Woman</span><span class="p">(</span><span class="n">People</span><span class="p">)</span><span class="o">:</span>

    <span class="n">def</span> <span class="n">purchase</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
        <span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="o">%</span><span class="n">s</span> <span class="n">is</span> <span class="n">purchasing</span><span class="p">...</span><span class="err">&#39;</span> <span class="o">%</span> <span class="n">self</span><span class="p">.</span><span class="n">name</span><span class="p">)</span>


<span class="n">m1</span> <span class="o">=</span> <span class="n">Man</span><span class="p">(</span><span class="err">&#39;</span><span class="n">Rick</span><span class="err">&#39;</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">100000000</span><span class="p">)</span>
<span class="n">m1</span><span class="p">.</span><span class="n">eat</span><span class="p">()</span>
<span class="n">m1</span><span class="p">.</span><span class="n">play</span><span class="p">()</span>
<span class="n">m1</span><span class="p">.</span><span class="n">sleep</span><span class="p">()</span>

<span class="n">w1</span> <span class="o">=</span> <span class="n">Woman</span><span class="p">(</span><span class="err">&#39;</span><span class="n">Michelle</span><span class="err">&#39;</span><span class="p">,</span> <span class="mi">18</span><span class="p">)</span>
<span class="n">w1</span><span class="p">.</span><span class="n">purchase</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="n">Rick</span> <span class="n">has</span> <span class="mi">100000000</span> <span class="n">dollar</span>
<span class="n">Rick</span> <span class="n">is</span> <span class="n">eating</span><span class="p">...</span>
<span class="n">Rick</span> <span class="n">is</span> <span class="n">playing</span><span class="p">...</span>
<span class="n">Rick</span> <span class="n">is</span> <span class="n">sleeping</span><span class="p">...</span>
<span class="n">man</span> <span class="n">is</span> <span class="n">sleeping</span><span class="p">...</span>
<span class="n">Michelle</span> <span class="n">is</span> <span class="n">purchasing</span><span class="p">...</span>
</pre></div>


<div class="hlcode"><pre><span class="kn">import</span> <span class="nn">time</span>

<span class="k">class</span> <span class="nc">Users</span><span class="p">:</span>
    <span class="n">username</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uname</span><span class="p">):</span>      <span class="c">#构造函数</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">username</span> <span class="o">=</span> <span class="n">uname</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;(Construct fucntion:&#39;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="o">+</span><span class="s">&#39;)&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">DisplayUsername</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>      <span class="c">#类Users的成员函数DisplayUsername</span>
        <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="p">)</span>

<span class="c">#继承类Users</span>
<span class="k">class</span> <span class="nc">UserLogin</span><span class="p">(</span><span class="n">Users</span><span class="p">):</span>   <span class="c">#类Users的子类</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uname</span><span class="p">,</span> <span class="n">LastLoginTime</span><span class="p">):</span>
        <span class="n">Users</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uname</span><span class="p">)</span>       <span class="c">#调用父类的Users的构造函数</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">LastLoginTime</span> <span class="o">=</span> <span class="n">LastLoginTime</span>

    <span class="k">def</span> <span class="nf">DisplayLoginTime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;Login time: &#39;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">LastLoginTime</span><span class="p">)</span>

<span class="c">#获取当前时间</span>
<span class="n">now</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&#39;%Y-%m-</span><span class="si">%d</span><span class="s"> %H:%M:%S&#39;</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()))</span>

<span class="n">MyUser1</span> <span class="o">=</span> <span class="n">UserLogin</span><span class="p">(</span><span class="s">&#39;Rick&#39;</span><span class="p">,</span> <span class="n">now</span><span class="p">)</span>
<span class="n">MyUser2</span> <span class="o">=</span> <span class="n">UserLogin</span><span class="p">(</span><span class="s">&#39;Michelle&#39;</span><span class="p">,</span> <span class="n">now</span><span class="p">)</span>
<span class="n">MyUser3</span> <span class="o">=</span> <span class="n">UserLogin</span><span class="p">(</span><span class="s">&#39;Sam&#39;</span><span class="p">,</span> <span class="n">now</span><span class="p">)</span>

<span class="n">MyUser1</span><span class="o">.</span><span class="n">DisplayUsername</span><span class="p">()</span>   <span class="c">#访问类Users的函数</span>
<span class="n">MyUser1</span><span class="o">.</span><span class="n">DisplayLoginTime</span><span class="p">()</span>     <span class="c">#访问子类的函数</span>
<span class="n">MyUser2</span><span class="o">.</span><span class="n">DisplayUsername</span><span class="p">()</span>
<span class="n">MyUser2</span><span class="o">.</span><span class="n">DisplayLoginTime</span><span class="p">()</span>
<span class="n">MyUser3</span><span class="o">.</span><span class="n">DisplayUsername</span><span class="p">()</span>
<span class="n">MyUser3</span><span class="o">.</span><span class="n">DisplayLoginTime</span><span class="p">()</span>

<span class="o">&gt;&gt;&gt;</span>
<span class="p">(</span><span class="n">Construct</span> <span class="n">fucntion</span><span class="p">:</span><span class="n">Rick</span><span class="p">)</span>
<span class="p">(</span><span class="n">Construct</span> <span class="n">fucntion</span><span class="p">:</span><span class="n">Michelle</span><span class="p">)</span>
<span class="p">(</span><span class="n">Construct</span> <span class="n">fucntion</span><span class="p">:</span><span class="n">Sam</span><span class="p">)</span>
<span class="n">Rick</span>
<span class="n">Login</span> <span class="n">time</span><span class="p">:</span> <span class="mi">2016</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">10</span> <span class="mi">16</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">45</span>
<span class="n">Michelle</span>
<span class="n">Login</span> <span class="n">time</span><span class="p">:</span> <span class="mi">2016</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">10</span> <span class="mi">16</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">45</span>
<span class="n">Sam</span>
<span class="n">Login</span> <span class="n">time</span><span class="p">:</span> <span class="mi">2016</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">10</span> <span class="mi">16</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">45</span>
</pre></div>


<h3 id="_4">继承与可见性</h3>
<p>私有的方法，变量，包括类和实例是不可继承的<br />
公有的方法，变量，包括类和实例是可以继承的<br />
父类公有的方法，包括类和实例，是可以访问父类的私有变量的</p>
<p>父类的私有方法不能被子类覆盖</p>
<div class="hlcode"><pre><span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
    <span class="n">__class_private_var</span> <span class="o">=</span> <span class="s">&#39;class private var&#39;</span>
    <span class="n">class_public_var</span> <span class="o">=</span> <span class="s">&#39;class public var&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__instance_private_var</span> <span class="o">=</span> <span class="s">&#39;instance private var&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instance_public_var</span> <span class="o">=</span> <span class="s">&#39;instance public var&#39;</span>

    <span class="k">def</span> <span class="nf">__instance_private_method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__class_private_var</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">class_public_var</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_public_var</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">instance_public_method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__class_private_var</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">class_public_var</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_public_var</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">__private_class_method</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="n">cls</span><span class="o">.</span><span class="n">__class_private_var</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="n">cls</span><span class="o">.</span><span class="n">class_public_var</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">public_class_method</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="n">cls</span><span class="o">.</span><span class="n">__class_private_var</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="n">cls</span><span class="o">.</span><span class="n">class_public_var</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>

<span class="k">class</span> <span class="nc">B</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="n">b</span> <span class="o">=</span> <span class="n">B</span><span class="p">()</span>

<span class="n">b</span><span class="o">.</span><span class="n">instance_public_method</span><span class="p">()</span>
<span class="n">b</span><span class="o">.</span><span class="n">public_class_method</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="k">class</span> <span class="nc">private</span> <span class="n">var</span>
<span class="k">class</span> <span class="nc">public</span> <span class="n">var</span>
<span class="n">instance</span> <span class="n">public</span> <span class="n">var</span>
<span class="k">class</span> <span class="nc">private</span> <span class="n">var</span>
<span class="k">class</span> <span class="nc">public</span> <span class="n">var</span>
</pre></div>


<h4 id="list">自定义特殊方法 (继承list类)</h4>
<div class="hlcode"><pre><span class="n">In</span> <span class="p">[</span><span class="mi">57</span><span class="p">]</span><span class="o">:</span> <span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">57</span><span class="p">]</span><span class="o">:</span> <span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">59</span><span class="p">]</span><span class="o">:</span> <span class="n">print</span><span class="p">(</span><span class="n">dir</span><span class="p">(</span><span class="n">L</span><span class="p">))</span>
<span class="p">[</span><span class="err">&#39;</span><span class="n">__add__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__class__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__contains__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__delattr__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__delitem__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__dir__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__doc__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__eq__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__format__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__ge__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__getattribute__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__getitem__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__gt__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__hash__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__iadd__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__imul__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__init__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__init_subclass__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__iter__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__le__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__len__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__lt__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__mul__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__ne__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__new__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__reduce__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__reduce_ex__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__repr__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__reversed__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__rmul__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__setattr__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__setitem__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__sizeof__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__str__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">__subclasshook__</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">append</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">clear</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">copy</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">count</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">extend</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">index</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">insert</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">pop</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">remove</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">reverse</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">sort</span><span class="err">&#39;</span><span class="p">]</span>
</pre></div>


<p>其中的<code>__add__</code>是一个特殊方法, 可以实现两个list 相加</p>
<div class="hlcode"><pre><span class="n">In</span> <span class="p">[</span><span class="mi">60</span><span class="p">]</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">60</span><span class="p">]</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
</pre></div>


<p>继承list类，添加对 - 的定义</p>
<div class="hlcode"><pre><span class="n">class</span> <span class="n">super_list</span><span class="p">(</span><span class="n">list</span><span class="p">)</span><span class="o">:</span>
    <span class="n">def</span> <span class="n">__sub__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span><span class="o">:</span> <span class="err">#内置函数</span><span class="n">__sub__</span><span class="p">()</span><span class="err">定义了</span><span class="o">-</span><span class="err">的操作</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">self</span><span class="p">[</span><span class="o">:</span><span class="p">]</span> <span class="err">#这里</span><span class="p">,</span> <span class="n">self</span><span class="err">是</span><span class="n">super_list</span><span class="err">的对象。由于</span><span class="n">super_list</span><span class="err">继承于</span><span class="n">list</span><span class="p">,</span> <span class="err">利用和</span><span class="n">list</span><span class="p">[</span><span class="o">:</span><span class="p">]</span><span class="err">相同的引用方法来表示整个对象</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="o">:</span><span class="p">]</span>
        <span class="k">while</span> <span class="n">len</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">:</span>
            <span class="n">element_b</span> <span class="o">=</span> <span class="n">b</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">element_b</span> <span class="n">in</span> <span class="n">a</span><span class="o">:</span>
                <span class="n">a</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">element_b</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">a</span>

<span class="n">print</span><span class="p">(</span><span class="n">super_list</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">-</span> <span class="n">super_list</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]))</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</pre></div>


<h3 id="_5">子类私有方法</h3>
<p>子类可以重定义父类的私有方法，子类里面不可见</p>
<p>儿子不能继承父亲的老婆，但是儿子可以自己娶老婆</p>
<div class="hlcode"><pre><span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;method of A&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">B</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;method of B&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__method</span><span class="p">()</span>

<span class="n">b</span> <span class="o">=</span> <span class="n">B</span><span class="p">()</span>

<span class="n">b</span><span class="o">.</span><span class="n">method</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="n">method</span> <span class="n">of</span> <span class="n">B</span>
</pre></div>


<div class="hlcode"><pre><span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;method of A&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">B</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__method</span><span class="p">()</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;method of B&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__method</span><span class="p">()</span>

<span class="n">b</span> <span class="o">=</span> <span class="n">B</span><span class="p">()</span>

<span class="n">b</span><span class="o">.</span><span class="n">method</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s">&quot;/Users/xhxu/python/python3/new_test/1.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">15</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="n">b</span><span class="o">.</span><span class="n">method</span><span class="p">()</span>
  <span class="n">File</span> <span class="s">&quot;/Users/xhxu/python/python3/new_test/1.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">11</span><span class="p">,</span> <span class="ow">in</span> <span class="n">method</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__method</span><span class="p">()</span>
  <span class="n">File</span> <span class="s">&quot;/Users/xhxu/python/python3/new_test/1.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">7</span><span class="p">,</span> <span class="ow">in</span> <span class="n">__method</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__method</span><span class="p">()</span>
<span class="ne">AttributeError</span><span class="p">:</span> <span class="s">&#39;super&#39;</span> <span class="nb">object</span> <span class="n">has</span> <span class="n">no</span> <span class="n">attribute</span> <span class="s">&#39;_B__method&#39;</span>
</pre></div>


<h4 id="_6">接口</h4>
<p>接口就是一些方法特征的集合------接口是对抽象的抽象。</p>
<p>接口提取了一群类共同的函数，可以把接口当做一个函数的集合，然后让子类去实现接口中的函数。</p>
<h3 id="_7">强行继承 (私有变量重写)</h3>
<p>强行继承父类的私有变量, 私有变量是可以被重写的</p>
<p>不建议使用</p>
<div class="hlcode"><pre><span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;method of A&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">B</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">_A__method</span><span class="p">()</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;method of B&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__method</span><span class="p">()</span>

<span class="n">b</span> <span class="o">=</span> <span class="n">B</span><span class="p">()</span>

<span class="n">b</span><span class="o">.</span><span class="n">method</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="n">method</span> <span class="n">of</span> <span class="n">A</span>
<span class="n">method</span> <span class="n">of</span> <span class="n">B</span>
</pre></div>


<h2 id="_8">多继承</h2>
<p>多继承是毒药，不到万不得已不要使用</p>
<div class="hlcode"><pre><span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">method_from_a</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;Method of A&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">B</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">method_from_b</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;Method of B&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">C</span><span class="p">()</span>

<span class="n">c</span><span class="o">.</span><span class="n">method_from_a</span><span class="p">()</span>
<span class="n">c</span><span class="o">.</span><span class="n">method_from_b</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="n">Method</span> <span class="n">of</span> <span class="n">A</span>
<span class="n">Method</span> <span class="n">of</span> <span class="n">B</span>
</pre></div>


<h3 id="_9">继承方法</h3>
<p>当类是经典类时，多继承情况下，会按照深度优先方式查找</p>
<p>当类是新式类时，多继承情况下，会按照广度优先方式查找</p>
<p><img alt="img" src="https://cdn.pbrd.co/images/HC9883i.png" /></p>
<p><img alt="img" src="https://cdn.pbrd.co/images/HCAU2kb.png" /></p>
<h3 id="_10">多继承顺序</h3>
<p>经典类：首先去A类中查找，如果A类中没有，则继续去B类中找，如果B类中么有，则继续去D类中找，如果D类中么有，则继续去C类中找，如果还是未找到，则报错</p>
<p>新式类：首先去A类中查找，如果A类中没有，则继续去B类中找，如果B类中么有，则继续去C类中找，如果C类中么有，则继续去D类中找，如果还是未找到，则报错</p>
<p>在上述查找过程中，一旦找到，则寻找过程立即中断，便不会再继续找了。</p>
<div class="hlcode"><pre><span class="n">class</span> <span class="n">D</span><span class="o">:</span>
    <span class="n">def</span> <span class="n">bar</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
        <span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="n">D</span><span class="p">.</span><span class="n">bar</span><span class="err">&#39;</span><span class="p">)</span>


<span class="n">class</span> <span class="n">C</span><span class="p">(</span><span class="n">D</span><span class="p">)</span><span class="o">:</span>
    <span class="n">def</span> <span class="n">bar</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
        <span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="n">C</span><span class="p">.</span><span class="n">bar</span><span class="err">&#39;</span><span class="p">)</span>


<span class="n">class</span> <span class="n">B</span><span class="p">(</span><span class="n">D</span><span class="p">)</span><span class="o">:</span>
    <span class="n">def</span> <span class="n">bar</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
        <span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="n">B</span><span class="p">.</span><span class="n">bar</span><span class="err">&#39;</span><span class="p">)</span>


<span class="n">class</span> <span class="n">A</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">)</span><span class="o">:</span>
    <span class="n">def</span> <span class="n">bar</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
        <span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="n">A</span><span class="p">.</span><span class="n">bar</span><span class="err">&#39;</span><span class="p">)</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">A</span><span class="p">()</span>
</pre></div>


<p>多继承，总是先调用前面的</p>
<p>统一按照广度优先来继承</p>
<div class="hlcode"><pre><span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;Method of A&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">B</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;Method of B&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">C</span><span class="p">()</span>

<span class="n">c</span><span class="o">.</span><span class="n">method</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="n">Method</span> <span class="n">of</span> <span class="n">A</span>
</pre></div>


<div class="hlcode"><pre><span class="n">class</span> <span class="n">A</span><span class="o">:</span>
    <span class="n">def</span> <span class="n">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
        <span class="n">print</span><span class="p">(</span><span class="sc">&#39;A&#39;</span><span class="p">)</span>


<span class="n">class</span> <span class="n">B</span><span class="p">(</span><span class="n">A</span><span class="p">)</span><span class="o">:</span>
    <span class="n">print</span><span class="p">(</span><span class="sc">&#39;B&#39;</span><span class="p">)</span>


<span class="n">class</span> <span class="n">C</span><span class="p">(</span><span class="n">A</span><span class="p">)</span><span class="o">:</span>
    <span class="n">print</span><span class="p">(</span><span class="sc">&#39;C&#39;</span><span class="p">)</span>


<span class="n">class</span> <span class="n">D</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">)</span><span class="o">:</span>
    <span class="n">print</span><span class="p">(</span><span class="sc">&#39;D&#39;</span><span class="p">)</span>


<span class="n">obj</span> <span class="o">=</span> <span class="n">D</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="n">B</span>
<span class="n">C</span>
<span class="n">D</span>
<span class="n">A</span>
</pre></div>


<div class="hlcode"><pre><span class="n">class</span> <span class="n">A</span><span class="p">(</span><span class="n">object</span><span class="p">)</span><span class="o">:</span>
    <span class="n">def</span> <span class="n">test</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
        <span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="n">from</span> <span class="n">A</span><span class="err">&#39;</span><span class="p">)</span>

<span class="n">class</span> <span class="n">B</span><span class="p">(</span><span class="n">A</span><span class="p">)</span><span class="o">:</span>
    <span class="n">def</span> <span class="n">test</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
        <span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="n">from</span> <span class="n">B</span><span class="err">&#39;</span><span class="p">)</span>

<span class="n">class</span> <span class="n">C</span><span class="p">(</span><span class="n">A</span><span class="p">)</span><span class="o">:</span>
    <span class="n">def</span> <span class="n">test</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
        <span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="n">from</span> <span class="n">C</span><span class="err">&#39;</span><span class="p">)</span>

<span class="n">class</span> <span class="n">D</span><span class="p">(</span><span class="n">B</span><span class="p">)</span><span class="o">:</span>
    <span class="n">def</span> <span class="n">test</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
        <span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="n">from</span> <span class="n">D</span><span class="err">&#39;</span><span class="p">)</span>

<span class="n">class</span> <span class="n">E</span><span class="p">(</span><span class="n">C</span><span class="p">)</span><span class="o">:</span>
    <span class="n">def</span> <span class="n">test</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
        <span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="n">from</span> <span class="n">E</span><span class="err">&#39;</span><span class="p">)</span>

<span class="n">class</span> <span class="n">F</span><span class="p">(</span><span class="n">D</span><span class="p">,</span><span class="n">E</span><span class="p">)</span><span class="o">:</span>
    <span class="err">#</span> <span class="n">def</span> <span class="n">test</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
    <span class="err">#</span>     <span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="n">from</span> <span class="n">F</span><span class="err">&#39;</span><span class="p">)</span>
    <span class="n">pass</span>
<span class="n">f1</span><span class="o">=</span><span class="n">F</span><span class="p">()</span>
<span class="n">f1</span><span class="p">.</span><span class="n">test</span><span class="p">()</span>
<span class="n">print</span><span class="p">(</span><span class="n">F</span><span class="p">.</span><span class="n">__mro__</span><span class="p">)</span> <span class="err">#只有新式才有这个属性可以查看线性列表，经典类没有这个属性</span>

<span class="cp">#新式类继承顺序:F-&gt;D-&gt;B-&gt;E-&gt;C-&gt;A</span>
<span class="cp">#经典类继承顺序:F-&gt;D-&gt;B-&gt;A-&gt;E-&gt;C</span>
<span class="cp">#python3中统一都是新式类</span>
<span class="cp">#pyhon2中才分新式类与经典类</span>

<span class="o">&gt;&gt;&gt;</span>
<span class="n">from</span> <span class="n">D</span>
<span class="p">(</span><span class="o">&lt;</span><span class="n">class</span> <span class="err">&#39;</span><span class="n">__main__</span><span class="p">.</span><span class="n">F</span><span class="err">&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">class</span> <span class="err">&#39;</span><span class="n">__main__</span><span class="p">.</span><span class="n">D</span><span class="err">&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">class</span> <span class="err">&#39;</span><span class="n">__main__</span><span class="p">.</span><span class="n">B</span><span class="err">&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">class</span> <span class="err">&#39;</span><span class="n">__main__</span><span class="p">.</span><span class="n">E</span><span class="err">&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">class</span> <span class="err">&#39;</span><span class="n">__main__</span><span class="p">.</span><span class="n">C</span><span class="err">&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">class</span> <span class="err">&#39;</span><span class="n">__main__</span><span class="p">.</span><span class="n">A</span><span class="err">&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">class</span> <span class="err">&#39;</span><span class="n">object</span><span class="err">&#39;</span><span class="o">&gt;</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">F</span><span class="p">.</span><span class="n">mro</span><span class="p">()</span> <span class="err">#等同于</span><span class="n">F</span><span class="p">.</span><span class="n">__mro__</span>
<span class="p">[</span><span class="o">&lt;</span><span class="n">class</span> <span class="err">&#39;</span><span class="n">__main__</span><span class="p">.</span><span class="n">F</span><span class="err">&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">class</span> <span class="err">&#39;</span><span class="n">__main__</span><span class="p">.</span><span class="n">D</span><span class="err">&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">class</span> <span class="err">&#39;</span><span class="n">__main__</span><span class="p">.</span><span class="n">B</span><span class="err">&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">class</span> <span class="err">&#39;</span><span class="n">__main__</span><span class="p">.</span><span class="n">E</span><span class="err">&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">class</span> <span class="err">&#39;</span><span class="n">__main__</span><span class="p">.</span><span class="n">C</span><span class="err">&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">class</span> <span class="err">&#39;</span><span class="n">__main__</span><span class="p">.</span><span class="n">A</span><span class="err">&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">class</span> <span class="err">&#39;</span><span class="n">object</span><span class="err">&#39;</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>


<h2 id="_11">查询父类</h2>
<p>使用__base__属性来查询某个类的父类</p>
<div class="hlcode"><pre><span class="n">cls</span><span class="p">.</span><span class="n">__base__</span>

<span class="n">print</span><span class="p">(</span><span class="n">list</span><span class="p">.</span><span class="n">__base__</span><span class="p">)</span>
</pre></div>


<h2 id="_12">组合调用</h2>
<div class="hlcode"><pre><span class="n">class</span> <span class="n">BirthDate</span><span class="o">:</span>
    <span class="n">def</span> <span class="n">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="p">)</span><span class="o">:</span>
        <span class="n">self</span><span class="p">.</span><span class="n">year</span> <span class="o">=</span> <span class="n">year</span>
        <span class="n">self</span><span class="p">.</span><span class="n">month</span> <span class="o">=</span> <span class="n">month</span>
        <span class="n">self</span><span class="p">.</span><span class="n">day</span> <span class="o">=</span> <span class="n">day</span>


<span class="n">class</span> <span class="n">Course</span><span class="o">:</span>
    <span class="n">def</span> <span class="n">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">price</span><span class="p">,</span> <span class="n">period</span><span class="p">)</span><span class="o">:</span>
        <span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="n">self</span><span class="p">.</span><span class="n">price</span> <span class="o">=</span> <span class="n">price</span>
        <span class="n">self</span><span class="p">.</span><span class="n">period</span> <span class="o">=</span> <span class="n">period</span>


<span class="n">class</span> <span class="n">Teacher</span><span class="o">:</span>
    <span class="n">def</span> <span class="n">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">gender</span><span class="p">)</span><span class="o">:</span>
        <span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="n">self</span><span class="p">.</span><span class="n">gender</span> <span class="o">=</span> <span class="n">gender</span>

    <span class="n">def</span> <span class="n">teaching</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
        <span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="n">teaching</span><span class="err">&#39;</span><span class="p">)</span>


<span class="n">class</span> <span class="n">Professor</span><span class="p">(</span><span class="n">Teacher</span><span class="p">)</span><span class="o">:</span>
    <span class="n">def</span> <span class="n">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">gender</span><span class="p">,</span> <span class="n">birth</span><span class="p">,</span> <span class="n">course</span><span class="p">)</span><span class="o">:</span>
        <span class="n">super</span><span class="p">(</span><span class="n">Professor</span><span class="p">,</span> <span class="n">self</span><span class="p">).</span><span class="n">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">gender</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">birth</span> <span class="o">=</span> <span class="n">birth</span>
        <span class="n">self</span><span class="p">.</span><span class="n">course</span> <span class="o">=</span> <span class="n">course</span>


<span class="n">p1</span> <span class="o">=</span> <span class="n">Professor</span><span class="p">(</span><span class="err">&#39;</span><span class="n">Rick</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">male</span><span class="err">&#39;</span><span class="p">,</span>
               <span class="n">BirthDate</span><span class="p">(</span><span class="err">&#39;</span><span class="mi">1999</span><span class="err">&#39;</span><span class="p">,</span> <span class="sc">&#39;1&#39;</span><span class="p">,</span> <span class="sc">&#39;1&#39;</span><span class="p">),</span>
               <span class="n">Course</span><span class="p">(</span><span class="err">&#39;</span><span class="n">Python</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="mi">20000</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="mi">4</span> <span class="n">months</span><span class="err">&#39;</span><span class="p">))</span>

<span class="n">print</span><span class="p">(</span><span class="n">p1</span><span class="p">.</span><span class="n">birth</span><span class="p">.</span><span class="n">year</span><span class="p">,</span> <span class="n">p1</span><span class="p">.</span><span class="n">birth</span><span class="p">.</span><span class="n">month</span><span class="p">,</span> <span class="n">p1</span><span class="p">.</span><span class="n">birth</span><span class="p">.</span><span class="n">day</span><span class="p">)</span>
<span class="n">print</span><span class="p">(</span><span class="n">p1</span><span class="p">.</span><span class="n">course</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">p1</span><span class="p">.</span><span class="n">course</span><span class="p">.</span><span class="n">price</span><span class="p">,</span> <span class="n">p1</span><span class="p">.</span><span class="n">course</span><span class="p">.</span><span class="n">period</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span>
<span class="mi">1999</span> <span class="mi">1</span> <span class="mi">1</span>
<span class="n">Python</span> <span class="mi">20000</span> <span class="mi">4</span> <span class="n">months</span>
</pre></div>


<h2 id="polymorphism">多态 Polymorphism</h2>
<p>多态是面向对象的重要特性,简单点说:“一个接口，多种实现”，指一个基类中派生出了不同的子类，且每个子类在继承了同样的方法名的同时又对父类的方法做了不同的实现，这就是同一种事物表现出的多种形态。</p>
<div class="hlcode"><pre><span class="n">class</span> <span class="n">Animal</span><span class="o">:</span>
    <span class="n">def</span> <span class="n">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span><span class="o">:</span>
        <span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>

    <span class="n">def</span> <span class="n">bark</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
        <span class="n">pass</span>

    <span class="err">@</span><span class="n">staticmethod</span>
    <span class="n">def</span> <span class="n">animal_bark</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span><span class="o">:</span>   <span class="err">#这里的方法可以放到类外面形成函数</span>
        <span class="n">obj</span><span class="p">.</span><span class="n">bark</span><span class="p">()</span>


<span class="n">class</span> <span class="n">Cat</span><span class="p">(</span><span class="n">Animal</span><span class="p">)</span><span class="o">:</span>
    <span class="n">def</span> <span class="n">bark</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
        <span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="n">Meow</span><span class="o">!</span><span class="err">&#39;</span><span class="p">)</span>


<span class="n">class</span> <span class="n">Dog</span><span class="p">(</span><span class="n">Animal</span><span class="p">)</span><span class="o">:</span>
    <span class="n">def</span> <span class="n">bark</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
        <span class="n">print</span><span class="p">(</span><span class="err">&#39;</span><span class="n">Woof</span><span class="o">!</span><span class="err">&#39;</span><span class="p">)</span>


<span class="n">d</span> <span class="o">=</span> <span class="n">Dog</span><span class="p">(</span><span class="err">&#39;</span><span class="n">Mydog</span><span class="err">&#39;</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Cat</span><span class="p">(</span><span class="err">&#39;</span><span class="n">Mycat</span><span class="err">&#39;</span><span class="p">)</span>

<span class="n">Animal</span><span class="p">.</span><span class="n">animal_bark</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="n">Animal</span><span class="p">.</span><span class="n">animal_bark</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="n">Meow</span><span class="o">!</span>
<span class="n">Woof</span><span class="o">!</span>
</pre></div>


<div class="hlcode"><pre><span class="n">from</span> <span class="n">abc</span> <span class="n">import</span> <span class="n">ABCMeta</span><span class="p">,</span> <span class="n">abstractclassmethod</span>

<span class="n">class</span> <span class="n">Shape</span><span class="p">(</span><span class="n">object</span><span class="p">)</span><span class="o">:</span>
    <span class="n">__metaclass__</span> <span class="o">=</span> <span class="n">ABCMeta</span>
    <span class="n">def</span> <span class="n">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
        <span class="n">self</span><span class="p">.</span><span class="n">color</span> <span class="o">=</span> <span class="s">&quot;Black&quot;</span>

<span class="err">@</span><span class="n">abstractclassmethod</span>
<span class="n">def</span> <span class="n">draw</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
    <span class="n">pass</span>

<span class="n">class</span> <span class="n">circle</span><span class="p">(</span><span class="n">Shape</span><span class="p">)</span><span class="o">:</span>   <span class="err">#</span><span class="n">Shape</span><span class="err">子类</span><span class="n">circle</span>
    <span class="n">def</span> <span class="n">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span><span class="o">:</span>
        <span class="n">self</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="n">self</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
        <span class="n">self</span><span class="p">.</span><span class="n">r</span> <span class="o">=</span> <span class="n">r</span>

    <span class="n">def</span> <span class="n">draw</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
        <span class="n">print</span><span class="p">(</span><span class="s">&quot;Draw Circle: (%d, %d, %d)&quot;</span> <span class="o">%</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">r</span><span class="p">))</span>

<span class="n">class</span> <span class="n">line</span><span class="p">(</span><span class="n">Shape</span><span class="p">)</span><span class="o">:</span>     <span class="err">#</span><span class="n">Shape</span> <span class="err">子类</span><span class="n">line</span>
    <span class="n">def</span> <span class="n">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span><span class="o">:</span>
        <span class="n">self</span><span class="p">.</span><span class="n">x1</span> <span class="o">=</span> <span class="n">x1</span>
        <span class="n">self</span><span class="p">.</span><span class="n">y1</span> <span class="o">=</span> <span class="n">y1</span>
        <span class="n">self</span><span class="p">.</span><span class="n">x2</span> <span class="o">=</span> <span class="n">x2</span>
        <span class="n">self</span><span class="p">.</span><span class="n">y2</span> <span class="o">=</span> <span class="n">y2</span>

    <span class="n">def</span> <span class="n">draw</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>       <span class="err">#抽象方法</span><span class="n">draw</span><span class="p">()</span><span class="err">又不同的实现</span><span class="p">,</span><span class="err">这就是多态</span>
        <span class="n">print</span><span class="p">(</span><span class="s">&quot;Draw Line: (%d, %d, %d, %d)&quot;</span> <span class="o">%</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">x1</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">y1</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">x2</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">y2</span><span class="p">))</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">circle</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">c</span><span class="p">.</span><span class="n">draw</span><span class="p">()</span>

<span class="n">l</span> <span class="o">=</span> <span class="n">line</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="n">l</span><span class="p">.</span><span class="n">draw</span><span class="p">()</span>

<span class="o">&gt;</span>
<span class="n">Draw</span> <span class="n">Circle</span><span class="o">:</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">Draw</span> <span class="n">Line</span><span class="o">:</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
</pre></div>


<h2 id="mro-method-resolution-order">MRO (Method Resolution Order)</h2>
<p>MRO 通过C3算法计算出来的<br />
本地优先级: 根据声明的顺序从左往右查找<br />
单调性：所有子类中，也应满足其查找顺序</p>
<h3 id="c3">C3算法</h3>
<p><code>class B: -&gt; mro(B) = [B, O]</code></p>
<p><code>class B(A1, A2, ...) -&gt; mro(B) = [B] + merge(mro(A1), mro(A2), ..., [A1, A2, ...])</code></p>
<div class="hlcode"><pre><span class="n">C</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span> <span class="o">-&gt;</span> 
<span class="p">[</span><span class="n">C</span><span class="p">]</span> <span class="o">+</span> <span class="n">merge</span><span class="p">(</span><span class="n">mro</span><span class="p">(</span><span class="n">A</span><span class="p">),</span> <span class="n">mro</span><span class="p">(</span><span class="n">B</span><span class="p">),</span> <span class="p">[</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="p">[</span><span class="n">C</span><span class="p">]</span> <span class="o">+</span> <span class="n">merge</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">O</span><span class="p">],</span> <span class="p">[</span><span class="n">B</span><span class="p">,</span> <span class="n">O</span><span class="p">],</span> <span class="p">[</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="p">[</span><span class="n">C</span><span class="p">,</span> <span class="n">A</span><span class="p">]</span> <span class="o">+</span> <span class="n">merge</span><span class="p">([</span><span class="n">O</span><span class="p">],</span> <span class="p">[</span><span class="n">B</span><span class="p">,</span> <span class="n">O</span><span class="p">],</span> <span class="p">[</span><span class="n">B</span><span class="p">])</span>
<span class="p">[</span><span class="n">C</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">]</span> <span class="o">+</span> <span class="n">merge</span><span class="p">([</span><span class="n">O</span><span class="p">],</span> <span class="p">[</span><span class="n">O</span><span class="p">])</span>
<span class="p">[</span><span class="n">C</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">O</span><span class="p">]</span>
</pre></div>


<div class="hlcode"><pre><span class="n">C</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">A</span><span class="p">)</span> <span class="o">-&gt;</span> 
<span class="p">[</span><span class="n">C</span><span class="p">]</span> <span class="o">+</span> <span class="n">merge</span><span class="p">(</span><span class="n">mro</span><span class="p">(</span><span class="n">B</span><span class="p">),</span> <span class="n">mro</span><span class="p">(</span><span class="n">A</span><span class="p">),</span> <span class="p">[</span><span class="n">B</span><span class="p">,</span> <span class="n">A</span><span class="p">])</span>
<span class="p">[</span><span class="n">C</span><span class="p">]</span> <span class="o">+</span> <span class="n">merge</span><span class="p">([</span><span class="n">B</span><span class="p">,</span> <span class="n">O</span><span class="p">],</span> <span class="p">[</span><span class="n">A</span><span class="p">,</span> <span class="n">O</span><span class="p">],</span> <span class="p">[</span><span class="n">B</span><span class="p">,</span> <span class="n">A</span><span class="p">])</span>
<span class="p">[</span><span class="n">C</span><span class="p">,</span> <span class="n">B</span><span class="p">]</span> <span class="o">+</span> <span class="n">merge</span><span class="p">([</span><span class="n">B</span><span class="p">],</span> <span class="p">[</span><span class="n">A</span><span class="p">,</span> <span class="n">O</span><span class="p">],</span> <span class="p">[</span><span class="n">A</span><span class="p">])</span>
<span class="p">[</span><span class="n">C</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">A</span><span class="p">]</span> <span class="o">+</span> <span class="n">merge</span><span class="p">([</span><span class="n">O</span><span class="p">],</span> <span class="p">[</span><span class="n">O</span><span class="p">])</span>
<span class="p">[</span><span class="n">C</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">O</span><span class="p">]</span>
</pre></div>


<div class="hlcode"><pre><span class="n">C</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">),</span> <span class="n">B</span><span class="p">(</span><span class="n">A</span><span class="p">)</span> <span class="o">-&gt;</span>
<span class="p">[</span><span class="n">C</span><span class="p">]</span> <span class="o">+</span> <span class="n">merge</span><span class="p">(</span><span class="n">mro</span><span class="p">(</span><span class="n">A</span><span class="p">),</span> <span class="n">mro</span><span class="p">(</span><span class="n">B</span><span class="p">),</span> <span class="p">[</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="p">[</span><span class="n">C</span><span class="p">]</span> <span class="o">+</span> <span class="n">merge</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">O</span><span class="p">],</span> <span class="p">([</span><span class="n">B</span><span class="p">]</span> <span class="o">+</span> <span class="n">merge</span><span class="p">(</span><span class="n">mro</span><span class="p">(</span><span class="n">A</span><span class="p">),</span> <span class="p">[</span><span class="n">A</span><span class="p">]),</span> <span class="p">[</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="p">[</span><span class="n">C</span><span class="p">]</span> <span class="o">+</span> <span class="n">merge</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">O</span><span class="p">],</span> <span class="p">([</span><span class="n">B</span><span class="p">]</span> <span class="o">+</span> <span class="n">merge</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">O</span><span class="p">],</span> <span class="p">[</span><span class="n">A</span><span class="p">])),</span> <span class="p">[</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="p">[</span><span class="n">C</span><span class="p">]</span> <span class="o">+</span> <span class="n">merge</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">O</span><span class="p">],</span> <span class="p">([</span><span class="n">B</span><span class="p">,</span> <span class="n">A</span><span class="p">]</span> <span class="o">+</span> <span class="n">merge</span><span class="p">([</span><span class="n">O</span><span class="p">])),</span> <span class="p">[</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="p">[</span><span class="n">C</span><span class="p">]</span> <span class="o">+</span> <span class="n">merge</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">O</span><span class="p">],</span> <span class="p">[</span><span class="n">B</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">O</span><span class="p">],</span> <span class="p">[</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="n">raise</span> <span class="n">TypeError</span>
</pre></div>


<div class="hlcode"><pre><span class="n">C</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">A</span><span class="p">),</span> <span class="n">B</span><span class="p">(</span><span class="n">A</span><span class="p">)</span> <span class="o">-&gt;</span> 
<span class="p">[</span><span class="n">C</span><span class="p">]</span> <span class="o">+</span> <span class="n">merge</span><span class="p">(</span><span class="n">mro</span><span class="p">(</span><span class="n">B</span><span class="p">),</span> <span class="n">mro</span><span class="p">(</span><span class="n">A</span><span class="p">),</span> <span class="p">[</span><span class="n">B</span><span class="p">,</span> <span class="n">A</span><span class="p">])</span>
<span class="p">[</span><span class="n">C</span><span class="p">]</span> <span class="o">+</span> <span class="n">merge</span><span class="p">([</span><span class="n">B</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">O</span><span class="p">],</span> <span class="p">[</span><span class="n">A</span><span class="p">,</span> <span class="n">O</span><span class="p">],</span> <span class="p">[</span><span class="n">B</span><span class="p">,</span> <span class="n">A</span><span class="p">])</span>
<span class="p">[</span><span class="n">C</span><span class="p">]</span> <span class="o">+</span> <span class="n">merge</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">O</span><span class="p">],</span> <span class="p">[</span><span class="n">A</span><span class="p">,</span> <span class="n">O</span><span class="p">],</span> <span class="p">[</span><span class="n">A</span><span class="p">])</span>
<span class="p">[</span><span class="n">C</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">A</span><span class="p">]</span> <span class="o">+</span> <span class="n">merge</span><span class="p">([</span><span class="n">O</span><span class="p">],</span> <span class="p">[</span><span class="n">O</span><span class="p">])</span>
<span class="p">[</span><span class="n">C</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">O</span><span class="p">]</span>
</pre></div>


<h4 id="merge">merge步骤</h4>
<ul>
<li>顺序遍历列表</li>
<li>首元素满足以下条件，否则遍历下一个序列<ul>
<li>在其他序列也是首元素</li>
<li>再其他序列里面不存在</li>
</ul>
</li>
<li>从所有序列中移除此元素，合并到MRO序列中</li>
<li>重复执行，直到所有序列为空或无法执行下去</li>
</ul>
<h3 id="mixin">MIXIN</h3>
<p>实现组合的一种方式<br />
实现数据和方法进行分离</p>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2019 Xu XueHua.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.</p>
        <p>Site Generated 2019-04-03 19:59:40</p>
      </span>
    </div>

    
    
  </body>
</html>