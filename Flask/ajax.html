<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>ajax - Xu XueHua</title>
    <meta name="keywords" content="Xu XueHua"/>
    <meta name="description" content="Xu XueHua's public notes"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>

  <body>
    <div id="container">
      
<div id="header">
  <div class="post-nav"><a href="/">Home</a>&nbsp;&#187;&nbsp;<a href="/#Flask">Flask</a>&nbsp;&#187;&nbsp;ajax
    <span class="updated">Page Updated&nbsp;
      2019-08-15 07:19
    </span></div>
</div>
<div class="clearfix"></div>

<div class="page_title">ajax</div>

  <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#ajax">AJAX</a><ul>
<li><a href="#ajax_1">ajax() 函数</a></li>
<li><a href="#_1">异步加载长文章</a></li>
</ul>
</li>
</ul>
</div>
<h1 id="ajax">AJAX</h1>
<p>指异步Javascript和XML(Asynchronous Java Script And XML) </p>
<p>基于XMLHttp Request 在页面不重载的情况下和服务器进行数据交换</p>
<p>可以使用jQuery发送AJAX请求</p>
<h2 id="ajax_1">ajax() 函数</h2>
<h2 id="_1">异步加载长文章</h2>
<div class="hlcode"><pre><span class="nb">from</span> <span class="nx">jinja2.utils</span> <span class="k">import</span> <span class="nx">generate_lorem_ipsum</span>

<span class="p">@</span><span class="nx">app.route</span><span class="p">(</span><span class="s1">&#39;/post&#39;</span><span class="p">)</span>
<span class="nx">def</span> <span class="nx">show_post</span><span class="p">():</span>
    <span class="n">post_body</span> <span class="o">=</span> <span class="nx">generate_lorem_ipsum</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">return</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    &lt;h1&gt;Long post&lt;/h1&gt;</span>
<span class="s1">    &lt;div class=&quot;body&quot;&gt;%s&lt;/div&gt;</span>
<span class="s1">    &lt;button id=&quot;load&quot;&gt;Load more &lt;/button&gt;</span>
<span class="s1">    &lt;script src=&quot;https://code.jquery.com/jquery-3.3.1.min.js&quot;&gt;&lt;/script&gt;</span>
<span class="s1">    &lt;script type=&quot;text/javascript&quot;&gt;</span>
<span class="s1">    $(function(){</span>
<span class="s1">        $(&#39;</span><span class="vi">#load</span><span class="s1">&#39;).click(function() {</span>
<span class="s1">            $.ajax({</span>
<span class="s1">                url: &#39;</span><span class="p">/</span><span class="nx">more</span><span class="s1">&#39;,</span>
<span class="s1">                type: &#39;</span><span class="nb">get</span><span class="s1">&#39;,</span>
<span class="s1">                success: function() {</span>
<span class="s1">                    $(&#39;</span><span class="bp">.</span><span class="nb">body</span><span class="s1">&#39;).append(data);</span>
<span class="s1">                }</span>
<span class="s1">            });</span>
<span class="s1">        });</span>
<span class="s1">    })</span>
<span class="s1">    &lt;/script&gt;&#39;&#39;&#39;</span> <span class="o">%</span> <span class="nx">post_body</span>
</pre></div>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2019 Xu XueHua.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.</p>
        <p>Site Generated 2019-09-22 23:06:24</p>
      </span>
    </div>

    
    
  </body>
</html>