<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>time - Xu XueHua</title>
    <meta name="keywords" content="Xu XueHua"/>
    <meta name="description" content="Xu XueHua's public notes"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>

  <body>
    <div id="container">
      
<div id="header">
  <div class="post-nav"><a href="/">Home</a>&nbsp;&#187;&nbsp;<a href="/#Python_modules">Python_modules</a>&nbsp;&#187;&nbsp;time
    <span class="updated">Page Updated&nbsp;
      2018-07-25 13:52
    </span></div>
</div>
<div class="clearfix"></div>

<div class="page_title">time</div>

  <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#time">time 模块</a><ul>
<li><a href="#_1">相关定义</a><ul>
<li><a href="#utc">UTC</a></li>
<li><a href="#dst">DST</a></li>
<li><a href="#timestamp">timestamp</a></li>
</ul>
</li>
<li><a href="#_2">常用方法</a><ul>
<li><a href="#cpu">CPU时间</a></li>
<li><a href="#-">时间戳 -&gt; 元组</a><ul>
<li><a href="#localtime">localtime()</a></li>
<li><a href="#gmtime">gmtime()</a></li>
<li><a href="#localtime_1">localtime()</a></li>
</ul>
</li>
<li><a href="#-_1">元组 -&gt; 时间戳</a><ul>
<li><a href="#mktime">mktime()</a></li>
</ul>
</li>
<li><a href="#-_2">元组 -&gt; 字符串</a><ul>
<li><a href="#strftime">strftime()</a></li>
</ul>
</li>
<li><a href="#-_3">字符串 -&gt; 元组</a><ul>
<li><a href="#strptime">strptime()</a></li>
</ul>
</li>
<li><a href="#-_4">元组 -&gt; 指定字符串格式</a><ul>
<li><a href="#asctime">asctime()</a></li>
</ul>
</li>
<li><a href="#-_5">时间戳 -&gt; 指定字符串格式</a><ul>
<li><a href="#ctime">ctime()</a></li>
</ul>
</li>
<li><a href="#_3">字符串时间格式参照</a></li>
</ul>
</li>
<li><a href="#sleep">sleep()</a></li>
</ul>
</li>
</ul>
</div>
<h1 id="time">time 模块</h1>
<p>实际上，计算机只会维护一个挂钟时间(wall clock time), 这个时间是从某个固定时间起点到现在的时间间隔。</p>
<p>时间起点的选择和计算机相关，但一台计算机的花，这一时间是固定的。</p>
<h2 id="_1">相关定义</h2>
<h3 id="utc">UTC</h3>
<p>UTC（Coordinated Universal Time）即格林威治天文时间，为世界标准时间。中国北京为UTC+8。</p>
<h3 id="dst">DST</h3>
<p>DST（Daylight Saving Time）即夏令时</p>
<h3 id="timestamp">timestamp</h3>
<p>时间戳（timestamp）的方式：通常来说，时间戳是指格林威治时间1970年01月01日00时00分00秒(北京时间1970年01月01日08时00分00秒)起至现在的总秒数</p>
<div class="hlcode"><pre><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span>
</pre></div>


<h2 id="_2">常用方法</h2>
<p><img alt="img" src="https://cdn.pbrd.co/images/HAORLLi.png" /></p>
<h3 id="cpu">CPU时间</h3>
<p>计算机还可以测量cpu实际运行的时间。也就是处理时间(processor clock time)</p>
<div class="hlcode"><pre><span class="n">import</span> <span class="n">time</span>
<span class="cp"># Wall clock time, unit second</span>
<span class="n">print</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">())</span>

<span class="cp"># Processor clock time, unit second</span>
<span class="n">print</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">clock</span><span class="p">())</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="mf">1481450359.512928</span>
<span class="mf">0.062346</span>
</pre></div>


<h3 id="-">时间戳 -&gt; 元组</h3>
<h4 id="localtime">localtime()</h4>
<p>以元组方式返回本地当前时间</p>
<div class="hlcode"><pre><span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">:</span> <span class="n">time</span><span class="p">.</span><span class="n">localtime</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">:</span> <span class="n">time</span><span class="p">.</span><span class="n">struct_time</span><span class="p">(</span><span class="n">tm_year</span><span class="o">=</span><span class="mi">2018</span><span class="p">,</span> <span class="n">tm_mon</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">tm_mday</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">tm_hour</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">tm_min</span><span class="o">=</span><span class="mi">57</span><span class="p">,</span> <span class="n">tm_sec</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">tm_wday</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">tm_yday</span><span class="o">=</span><span class="mi">206</span><span class="p">,</span> <span class="n">tm_isdst</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>


<h4 id="gmtime">gmtime()</h4>
<p>以元组方式返回格林威治时间</p>
<div class="hlcode"><pre><span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">:</span> <span class="n">time</span><span class="p">.</span><span class="n">gmtime</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">:</span> <span class="n">time</span><span class="p">.</span><span class="n">struct_time</span><span class="p">(</span><span class="n">tm_year</span><span class="o">=</span><span class="mi">2018</span><span class="p">,</span> <span class="n">tm_mon</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">tm_mday</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">tm_hour</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">tm_min</span><span class="o">=</span><span class="mi">58</span><span class="p">,</span> <span class="n">tm_sec</span><span class="o">=</span><span class="mi">22</span><span class="p">,</span> <span class="n">tm_wday</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">tm_yday</span><span class="o">=</span><span class="mi">206</span><span class="p">,</span> <span class="n">tm_isdst</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>


<h4 id="localtime_1">localtime()</h4>
<p>返回struct_time 格式的当地时间,当地时区根据系统环境决定</p>
<div class="hlcode"><pre><span class="n">In</span> <span class="p">[</span><span class="mi">15</span><span class="p">]</span><span class="o">:</span> <span class="n">time</span><span class="p">.</span><span class="n">localtime</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">15</span><span class="p">]</span><span class="o">:</span> <span class="n">time</span><span class="p">.</span><span class="n">struct_time</span><span class="p">(</span><span class="n">tm_year</span><span class="o">=</span><span class="mi">2018</span><span class="p">,</span> <span class="n">tm_mon</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">tm_mday</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">tm_hour</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">tm_min</span><span class="o">=</span><span class="mi">29</span><span class="p">,</span> <span class="n">tm_sec</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">tm_wday</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">tm_yday</span><span class="o">=</span><span class="mi">278</span><span class="p">,</span> <span class="n">tm_isdst</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>


<h3 id="-_1">元组 -&gt; 时间戳</h3>
<h4 id="mktime">mktime()</h4>
<p>将元组时间转换为时间戳</p>
<div class="hlcode"><pre><span class="n">In</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">:</span> <span class="n">x</span> <span class="o">=</span>  <span class="n">time</span><span class="p">.</span><span class="n">localtime</span><span class="p">()</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">:</span> <span class="n">time</span><span class="p">.</span><span class="n">mktime</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">:</span> <span class="mf">1532498377.0</span>
</pre></div>


<h3 id="-_2">元组 -&gt; 字符串</h3>
<h4 id="strftime">strftime()</h4>
<p>将元组时间转换为字符串格式时间</p>
<div class="hlcode"><pre><span class="n">x</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="n">localtime</span><span class="p">()</span>
<span class="n">time</span><span class="p">.</span><span class="n">strftime</span><span class="p">(</span><span class="err">&#39;</span><span class="o">%</span><span class="n">Y</span><span class="o">-%</span><span class="n">m</span><span class="o">-%</span><span class="n">d</span> <span class="o">%</span><span class="n">H</span><span class="o">:%</span><span class="n">M</span><span class="o">:%</span><span class="n">S</span><span class="err">&#39;</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="err">&#39;</span><span class="mi">2017</span><span class="o">-</span><span class="mo">05</span><span class="o">-</span><span class="mi">08</span> <span class="mi">16</span><span class="o">:</span><span class="mi">57</span><span class="o">:</span><span class="mi">38</span><span class="err">&#39;</span>
</pre></div>


<h3 id="-_3">字符串 -&gt; 元组</h3>
<h4 id="strptime">strptime()</h4>
<p>将字符串格式时间转换为元组格式时间</p>
<div class="hlcode"><pre><span class="n">time</span><span class="p">.</span><span class="n">strptime</span><span class="p">(</span><span class="err">&#39;</span><span class="mi">2017</span><span class="o">-</span><span class="mo">05</span><span class="o">-</span><span class="mi">08</span> <span class="mi">17</span><span class="o">:</span><span class="mo">03</span><span class="o">:</span><span class="mi">12</span><span class="sc">&#39;,&#39;</span><span class="o">%</span><span class="n">Y</span><span class="o">-%</span><span class="n">m</span><span class="o">-%</span><span class="n">d</span> <span class="o">%</span><span class="n">H</span><span class="o">:%</span><span class="n">M</span><span class="o">:%</span><span class="n">S</span><span class="err">&#39;</span><span class="p">)</span>
<span class="n">time</span><span class="p">.</span><span class="n">struct_time</span><span class="p">(</span><span class="n">tm_year</span><span class="o">=</span><span class="mi">2017</span><span class="p">,</span> <span class="n">tm_mon</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">tm_mday</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">tm_hour</span><span class="o">=</span><span class="mi">17</span><span class="p">,</span> <span class="n">tm_min</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">tm_sec</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">tm_wday</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">tm_yday</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">tm_isdst</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>


<h3 id="-_4">元组 -&gt; 指定字符串格式</h3>
<h4 id="asctime">asctime()</h4>
<p>元组格式时间转换为字符串格式时间</p>
<div class="hlcode"><pre><span class="n">time</span><span class="p">.</span><span class="n">asctime</span><span class="p">()</span>
<span class="err">&#39;</span><span class="n">Tue</span> <span class="n">May</span>  <span class="mi">9</span> <span class="mi">15</span><span class="o">:</span><span class="mi">23</span><span class="o">:</span><span class="mi">21</span> <span class="mi">2017</span><span class="err">&#39;</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="n">localtime</span><span class="p">()</span>
<span class="n">time</span><span class="p">.</span><span class="n">asctime</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="err">&#39;</span><span class="n">Tue</span> <span class="n">May</span>  <span class="mi">9</span> <span class="mi">15</span><span class="o">:</span><span class="mi">23</span><span class="o">:</span><span class="mi">39</span> <span class="mi">2017</span><span class="err">&#39;</span>
</pre></div>


<h3 id="-_5">时间戳 -&gt; 指定字符串格式</h3>
<h4 id="ctime">ctime()</h4>
<p>时间戳转换成字符串格式时间</p>
<div class="hlcode"><pre><span class="n">time</span><span class="p">.</span><span class="n">ctime</span><span class="p">()</span>
<span class="err">&#39;</span><span class="n">Tue</span> <span class="n">May</span>  <span class="mi">9</span> <span class="mi">16</span><span class="o">:</span><span class="mo">07</span><span class="o">:</span><span class="mi">24</span> <span class="mi">2017</span><span class="err">&#39;</span>
<span class="n">time</span><span class="p">.</span><span class="n">ctime</span><span class="p">(</span><span class="mi">987867475</span><span class="p">)</span>
<span class="err">&#39;</span><span class="n">Sat</span> <span class="n">Apr</span> <span class="mi">21</span> <span class="mi">23</span><span class="o">:</span><span class="mi">37</span><span class="o">:</span><span class="mi">55</span> <span class="mi">2001</span><span class="err">&#39;</span>
</pre></div>


<h3 id="_3">字符串时间格式参照</h3>
<table>
<thead>
<tr>
<th>字符串</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>%a</td>
<td>本地（locale）简化星期名称</td>
</tr>
<tr>
<td>%A</td>
<td>本地完整星期名称</td>
</tr>
<tr>
<td>%b</td>
<td>本地简化月份名称</td>
</tr>
<tr>
<td>%B</td>
<td>本地完整月份名称</td>
</tr>
<tr>
<td>%c</td>
<td>本地相应的日期和时间表示</td>
</tr>
<tr>
<td>%d</td>
<td>一个月中的第几天（01 - 31）</td>
</tr>
<tr>
<td>%H</td>
<td>一天中的第几个小时（24小时制，00 - 23）</td>
</tr>
<tr>
<td>%I</td>
<td>第几个小时（12小时制，01 - 12）</td>
</tr>
<tr>
<td>%j</td>
<td>一年中的第几天（001 - 366）</td>
</tr>
<tr>
<td>%m</td>
<td>月份（01 - 12）</td>
</tr>
<tr>
<td>%M</td>
<td>分钟数（00 - 59）</td>
</tr>
<tr>
<td>%p</td>
<td>本地am或者pm的相应符</td>
</tr>
<tr>
<td>%S</td>
<td>秒（01 - 61）</td>
</tr>
<tr>
<td>%w</td>
<td>一个星期中的第几天（0 - 6，0是星期天）</td>
</tr>
<tr>
<td>%W</td>
<td>和%U基本相同，不同的是%W以星期一为一个星期的开始。</td>
</tr>
<tr>
<td>%x</td>
<td>本地相应日期</td>
</tr>
<tr>
<td>%X</td>
<td>本地相应时间</td>
</tr>
<tr>
<td>%y</td>
<td>去掉世纪的年份（00 - 99）</td>
</tr>
<tr>
<td>%Y</td>
<td>完整的年份</td>
</tr>
<tr>
<td>%Z</td>
<td>时区的名字（如果不存在为空字符）</td>
</tr>
<tr>
<td>%%</td>
<td>%’字符</td>
</tr>
<tr>
<td>%U</td>
<td>一年中的周数。（00 - 53，周日是一个周的开始。）第一个星期天之前的所有天数都放在第0周</td>
</tr>
</tbody>
</table>
<h2 id="sleep">sleep()</h2>
<p>sleep函数用于将当前线程交出，要求它等待系统将其再次唤醒，如果写程序只有一个线程，这实际上就会阻塞进程，什么也不做。</p>
<div class="hlcode"><pre><span class="n">import</span> <span class="n">time</span>
<span class="n">def</span> <span class="n">fucn</span><span class="p">()</span><span class="o">:</span>
      <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
      <span class="n">print</span> <span class="s">&quot;hello, world&quot;</span>
</pre></div>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2019 Xu XueHua.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.</p>
        <p>Site Generated 2019-08-23 09:10:32</p>
      </span>
    </div>

    
    
  </body>
</html>