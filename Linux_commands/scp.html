<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>scp - Xu XueHua</title>
    <meta name="keywords" content="Xu XueHua"/>
    <meta name="description" content="Xu XueHua's public notes"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>

  <body>
    <div id="container">
      
<div id="header">
  <div class="post-nav"><a href="/">Home</a>&nbsp;&#187;&nbsp;<a href="/#Linux_commands">Linux_commands</a>&nbsp;&#187;&nbsp;scp
    <span class="updated">Page Updated&nbsp;
      2018-09-21 20:51
    </span></div>
</div>
<div class="clearfix"></div>

<div class="page_title">scp</div>

  <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#scp">scp</a><ul>
<li><a href="#_1">命令格式</a></li>
<li><a href="#-4-ipv4">-4 IPv4</a></li>
<li><a href="#-6-ipv6">-6 IPv6</a></li>
<li><a href="#-b">-B 免询问</a></li>
<li><a href="#-p">-p (小写) 保留时间</a></li>
<li><a href="#-q">-q 隐藏进度</a></li>
<li><a href="#-r">-r 递归</a></li>
<li><a href="#-v-verbose">-v verbose</a></li>
<li><a href="#-c-cipher">-c 以cipher传输</a></li>
<li><a href="#-f-ssh">-F 指定SSH 配置</a></li>
<li><a href="#-i">-i 指定密钥</a></li>
<li><a href="#-l">-l 限速</a></li>
<li><a href="#-o-ssh_option">-o ssh_option</a></li>
<li><a href="#-p_1">-P (大写) 指定端口</a></li>
<li><a href="#-s">-S 指定程序</a></li>
</ul>
</li>
</ul>
</div>
<h1 id="scp">scp</h1>
<h2 id="_1">命令格式</h2>
<div class="hlcode"><pre><span class="n">scp</span> <span class="n">local_file</span> <span class="n">remote_username</span><span class="err">@</span><span class="n">remote_ip</span><span class="o">:</span><span class="n">remote_folder</span> 
<span class="err">或者</span> 
<span class="n">scp</span> <span class="n">local_file</span> <span class="n">remote_username</span><span class="err">@</span><span class="n">remote_ip</span><span class="o">:</span><span class="n">remote_file</span> 
</pre></div>


<h2 id="-4-ipv4">-4 IPv4</h2>
<p>强制scp命令只使用IPv4寻址</p>
<h2 id="-6-ipv6">-6 IPv6</h2>
<p>强制scp命令只使用IPv6寻址</p>
<h2 id="-b">-B 免询问</h2>
<p>使用批处理模式（传输过程中不询问传输口令或短语）</p>
<h2 id="-p">-p (小写) 保留时间</h2>
<p>保留原文件的修改时间，访问时间和访问权限。</p>
<h2 id="-q">-q 隐藏进度</h2>
<p>不显示传输进度条。</p>
<h2 id="-r">-r <a href="">递归</a></h2>
<p>递归复制整个目录。</p>
<div class="hlcode"><pre><span class="n">scp</span> <span class="o">-</span><span class="n">r</span> <span class="n">local_folder</span> <span class="n">remote_username</span><span class="err">@</span><span class="n">remote_ip</span><span class="o">:</span><span class="n">remote_folder</span> 
</pre></div>


<h2 id="-v-verbose">-v verbose</h2>
<p>详细方式显示输出。scp和ssh(1)会显示出整个过程的调试信息。这些信息用于调试连接，验证和配置问题。</p>
<h2 id="-c-cipher">-c 以cipher传输</h2>
<p>以cipher将数据传输进行加密，这个选项将直接传递给ssh。</p>
<h2 id="-f-ssh">-F 指定SSH 配置</h2>
<p>指定一个替代的ssh配置文件，此参数直接传递给ssh。</p>
<h2 id="-i">-i 指定密钥</h2>
<p>从指定文件中读取传输时使用的密钥文件，此参数直接传递给ssh。</p>
<div class="hlcode"><pre><span class="n">scp</span> <span class="o">-</span><span class="n">i</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">spool</span><span class="o">/</span><span class="n">nagios</span><span class="o">/</span><span class="p">.</span><span class="n">ssh</span><span class="o">/</span><span class="n">id_rsa</span>  <span class="p">.</span><span class="o">/</span><span class="n">retention</span><span class="p">.</span><span class="n">dat</span>  <span class="n">monitor</span><span class="err">@</span><span class="n">nagios01</span><span class="p">.</span><span class="n">stg</span><span class="p">.</span><span class="n">xxxx</span><span class="p">.</span><span class="n">net</span><span class="o">:/</span><span class="n">tmp</span><span class="o">/</span><span class="n">ret</span><span class="p">.</span><span class="n">dat</span>
</pre></div>


<h2 id="-l">-l 限速</h2>
<p>限定用户所能使用的带宽，以Kbit/s为单位。</p>
<h2 id="-o-ssh_option">-o ssh_option</h2>
<p>如果习惯于使用ssh_config(5)中的参数传递方式，</p>
<h2 id="-p_1">-P (大写) 指定端口</h2>
<p>注意是大写的P, port是指定数据传输用到的端口号</p>
<div class="hlcode"><pre><span class="n">scp</span> <span class="o">-</span><span class="n">P</span> <span class="mi">4588</span> <span class="n">remote</span><span class="err">@</span><span class="n">www</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span><span class="o">:/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">sin</span><span class="p">.</span><span class="n">sh</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">administrator</span>
</pre></div>


<h2 id="-s">-S 指定程序</h2>
<p>指定加密传输时所使用的程序。此程序必须能够理解ssh(1)的选项。</p>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2019 Xu XueHua.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.</p>
        <p>Site Generated 2019-07-29 22:35:10</p>
      </span>
    </div>

    
    
  </body>
</html>