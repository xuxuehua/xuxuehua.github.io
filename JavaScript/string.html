<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>string 字符串 - Xu XueHua</title>
    <meta name="keywords" content="Xu XueHua"/>
    <meta name="description" content="Xu XueHua's public notes"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>

  <body>
    <div id="container">
      
<div id="header">
  <div class="post-nav"><a href="/">Home</a>&nbsp;&#187;&nbsp;<a href="/#JavaScript">JavaScript</a>&nbsp;&#187;&nbsp;string 字符串
    <span class="updated">Page Updated&nbsp;
      2018-06-04 15:58
    </span></div>
</div>
<div class="clearfix"></div>

<div class="page_title">string 字符串</div>

  <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#string">String</a><ul>
<li><a href="#_1">转译</a><ul>
<li><a href="#ascii">ASCII 字符</a></li>
<li><a href="#unicode">Unicode 字符</a></li>
</ul>
</li>
<li><a href="#_2">多行字符串</a></li>
<li><a href="#_3">操作字符串</a><ul>
<li><a href="#_4">字符串连接</a></li>
<li><a href="#_5">字符串长度</a></li>
<li><a href="#_6">字符串位置</a><ul>
<li><a href="#_7">字符串索引赋值</a></li>
</ul>
</li>
<li><a href="#touppercase">toUpperCase</a></li>
<li><a href="#tolowercase">toLowerCase</a></li>
<li><a href="#indexof">indexOf</a></li>
<li><a href="#substring">substring</a></li>
<li><a href="#length">length</a></li>
<li><a href="#match">match</a></li>
<li><a href="#replace">replace</a></li>
<li><a href="#tostring">toString 转换为字符串</a></li>
<li><a href="#tri">tri 去除空格</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h1 id="string">String</h1>
<p>字符串是以单引号'或双引号"括起来的任意文本，比如<code>'abc'</code>，<code>"xyz"</code>等等</p>
<p><code>''</code>或<code>""</code>本身只是一种表示方式，不是字符串的一部分，因此，字符串<code>'abc'</code>只有<code>a</code>，<code>b</code>，<code>c</code>这3个字符</p>
<h2 id="_1">转译</h2>
<ul>
<li>如果字符串内部既包含<code>'</code>又包含<code>"</code>怎么办？可以用转义字符<code>\</code>来标识，比如：</li>
</ul>
<p><code>'I\'m \"OK\"!';</code></p>
<blockquote>
<p>表示的字符串内容是：<code>I'm "OK"!</code></p>
</blockquote>
<ul>
<li>转义字符\可以转义很多字符，比如\n表示换行，\t表示制表符，字符\本身也要转义，所以\表示的字符就是\。</li>
</ul>
<h3 id="ascii">ASCII 字符</h3>
<ul>
<li>ASCII字符可以以<code>\x##</code>形式的十六进制表示，例如：</li>
</ul>
<div class="hlcode"><pre><span class="sc">&#39;\x41&#39;</span><span class="p">;</span> <span class="c1">// 完全等同于 &#39;A&#39;</span>
</pre></div>


<h3 id="unicode">Unicode 字符</h3>
<ul>
<li>还可以用<code>\u####</code>表示一个Unicode字符：</li>
</ul>
<p><code>'\u4e2d\u6587'; // 完全等同于 '中文'</code></p>
<h2 id="_2">多行字符串</h2>
<ul>
<li>由于多行字符串用<code>\n</code>写起来比较费事，所以最新的ES6标准新增了一种多行字符串的表示方法，用反引号 <em><code>* ... *</code></em> 表示：</li>
</ul>
<div class="hlcode"><pre><span class="err">`这是一个</span>
<span class="err">多行</span>
<span class="err">字符串`</span><span class="p">;</span>
</pre></div>


<h2 id="_3">操作字符串</h2>
<h3 id="_4">字符串连接</h3>
<p>要把多个字符串连接起来，可以用<code>+</code>号连接：</p>
<div class="hlcode"><pre><span class="n">var</span> <span class="n">name</span><span class="o">=</span><span class="err">&#39;</span><span class="n">Rick</span><span class="err">&#39;</span><span class="p">;</span>
<span class="n">var</span> <span class="n">age</span><span class="o">=</span><span class="mi">18</span><span class="p">;</span>
<span class="n">var</span> <span class="n">message</span> <span class="o">=</span> <span class="err">&#39;</span><span class="n">Hello</span><span class="p">,</span> <span class="err">&#39;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="err">&#39;</span><span class="p">,</span> <span class="n">your</span> <span class="n">age</span> <span class="n">is</span> <span class="err">&#39;</span> <span class="o">+</span> <span class="n">age</span><span class="p">;</span>
<span class="n">message</span>
<span class="s">&quot;Hello, Rick, your age is 18&quot;</span>
</pre></div>


<h3 id="_5">字符串长度</h3>
<div class="hlcode"><pre><span class="n">var</span> <span class="n">s</span> <span class="o">=</span> <span class="err">&#39;</span><span class="n">Hello</span><span class="p">,</span> <span class="n">world</span><span class="o">!</span><span class="err">&#39;</span><span class="p">;</span>
<span class="n">s</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="c1">// 13</span>
</pre></div>


<h3 id="_6">字符串位置</h3>
<p>要获取字符串某个指定位置的字符，使用类似Array的下标操作，索引号从0开始：</p>
<div class="hlcode"><pre><span class="n">var</span> <span class="n">s</span> <span class="o">=</span> <span class="err">&#39;</span><span class="n">Hello</span><span class="p">,</span> <span class="n">world</span><span class="o">!</span><span class="err">&#39;</span><span class="p">;</span>

<span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span> <span class="c1">// &#39;H&#39;</span>
<span class="n">s</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span> <span class="c1">// &#39; &#39;</span>
<span class="n">s</span><span class="p">[</span><span class="mi">7</span><span class="p">];</span> <span class="c1">// &#39;w&#39;</span>
<span class="n">s</span><span class="p">[</span><span class="mi">12</span><span class="p">];</span> <span class="c1">// &#39;!&#39;</span>
<span class="n">s</span><span class="p">[</span><span class="mi">13</span><span class="p">];</span> <span class="c1">// undefined 超出范围的索引不会报错，但一律返回undefined</span>
</pre></div>


<h4 id="_7">字符串索引赋值</h4>
<p>字符串是不可变的，如果对字符串的某个索引赋值，不会有任何错误，但是，也没有任何效果：</p>
<div class="hlcode"><pre><span class="n">var</span> <span class="n">s</span> <span class="o">=</span> <span class="err">&#39;</span><span class="n">Test</span><span class="err">&#39;</span><span class="p">;</span>
<span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="sc">&#39;X&#39;</span><span class="p">;</span>
<span class="n">alert</span><span class="p">(</span><span class="n">s</span><span class="p">);</span> <span class="c1">// s仍然为&#39;Test&#39;</span>
</pre></div>


<h3 id="touppercase">toUpperCase</h3>
<p><code>toUpperCase()</code>把一个字符串全部变为大写：</p>
<div class="hlcode"><pre><span class="n">var</span> <span class="n">s</span> <span class="o">=</span> <span class="err">&#39;</span><span class="n">Hello</span><span class="err">&#39;</span><span class="p">;</span>
<span class="n">s</span><span class="p">.</span><span class="n">toUpperCase</span><span class="p">();</span> <span class="c1">// 返回&#39;HELLO&#39;</span>
</pre></div>


<h3 id="tolowercase">toLowerCase</h3>
<p><code>toLowerCase()</code>把一个字符串全部变为小写：</p>
<div class="hlcode"><pre><span class="n">var</span> <span class="n">s</span> <span class="o">=</span> <span class="err">&#39;</span><span class="n">Hello</span><span class="err">&#39;</span><span class="p">;</span>
<span class="n">var</span> <span class="n">lower</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">toLowerCase</span><span class="p">();</span> <span class="c1">// 返回&#39;hello&#39;并赋值给变量lower</span>
<span class="n">lower</span><span class="p">;</span> <span class="c1">// &#39;hello&#39;</span>
</pre></div>


<h3 id="indexof">indexOf</h3>
<p><code>indexOf()</code>会搜索指定字符串出现的位置：</p>
<div class="hlcode"><pre><span class="n">var</span> <span class="n">s</span> <span class="o">=</span> <span class="err">&#39;</span><span class="n">hello</span><span class="p">,</span> <span class="n">world</span><span class="err">&#39;</span><span class="p">;</span>
<span class="n">s</span><span class="p">.</span><span class="n">indexOf</span><span class="p">(</span><span class="err">&#39;</span><span class="n">world</span><span class="err">&#39;</span><span class="p">);</span> <span class="c1">// 返回7</span>
<span class="n">s</span><span class="p">.</span><span class="n">indexOf</span><span class="p">(</span><span class="err">&#39;</span><span class="n">World</span><span class="err">&#39;</span><span class="p">);</span> <span class="c1">// 没有找到指定的子串，返回-1</span>
</pre></div>


<h3 id="substring">substring</h3>
<p><code>substring()</code>返回指定索引区间的子串：</p>
<div class="hlcode"><pre><span class="n">var</span> <span class="n">s</span> <span class="o">=</span> <span class="err">&#39;</span><span class="n">hello</span><span class="p">,</span> <span class="n">world</span><span class="err">&#39;</span>
<span class="n">s</span><span class="p">.</span><span class="n">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span> <span class="c1">// 从索引0开始到5（不包括5），返回&#39;hello&#39;</span>
<span class="n">s</span><span class="p">.</span><span class="n">substring</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span> <span class="c1">// 从索引7开始到结束，返回&#39;world&#39;</span>
</pre></div>


<h3 id="length">length</h3>
<div class="hlcode"><pre><span class="n">var</span> <span class="n">txt</span><span class="o">=</span><span class="s">&quot;Hello World&quot;</span><span class="p">;</span>
<span class="n">txt</span><span class="p">.</span><span class="n">length</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="mi">11</span>
</pre></div>


<h3 id="match">match</h3>
<div class="hlcode"><pre><span class="n">var</span> <span class="n">str</span> <span class="o">=</span> <span class="s">&quot;Hello World&quot;</span><span class="p">;</span>
<span class="n">str</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="err">&#39;</span><span class="n">World</span><span class="err">&#39;</span><span class="p">)</span>
<span class="p">[</span><span class="s">&quot;World&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">:</span> <span class="mi">6</span><span class="p">,</span> <span class="n">input</span><span class="o">:</span> <span class="s">&quot;Hello World&quot;</span><span class="p">]</span>
<span class="n">str</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="err">&#39;</span><span class="n">world</span><span class="err">&#39;</span><span class="p">)</span>
<span class="n">null</span>
</pre></div>


<h3 id="replace">replace</h3>
<p>利用<code>replace()</code>进行替换的时候，如果传入的是字符串，则只会替换第一个子字符串，要想替换所有的子字符串，则需要传入一个正则表达式，而且要指定全局（g）标志</p>
<div class="hlcode"><pre><span class="n">var</span> <span class="n">text</span> <span class="o">=</span> <span class="err">&#39;</span><span class="n">cat</span> <span class="p">,</span> <span class="n">bat</span> <span class="p">,</span> <span class="n">sat</span> <span class="p">,</span> <span class="n">fat</span><span class="err">&#39;</span><span class="p">;</span>
<span class="n">var</span> <span class="n">result</span> <span class="o">=</span> <span class="n">text</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="err">&#39;</span><span class="n">at</span><span class="sc">&#39;,&#39;</span><span class="n">ond</span><span class="err">&#39;</span><span class="p">);</span>
<span class="n">console</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="n">result</span><span class="p">);</span> <span class="c1">// =&gt;&#39;cont , bat , sat , fat&#39;</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">text</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="o">/</span><span class="n">at</span><span class="o">/</span><span class="n">g</span><span class="p">,</span><span class="err">&#39;</span><span class="n">ond</span><span class="err">&#39;</span><span class="p">);</span>
<span class="n">console</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="n">result</span><span class="p">);</span> <span class="c1">//=&gt;&#39;cont , bont , sont , font&#39;</span>
</pre></div>


<div class="hlcode"><pre><span class="n">var</span> <span class="n">str</span> <span class="o">=</span> <span class="s">&quot;Hello World&quot;</span><span class="p">;</span>
<span class="n">str</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="o">/</span><span class="n">World</span><span class="o">/</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">Rick</span><span class="err">&#39;</span><span class="p">);</span>
<span class="s">&quot;Hello Rick&quot;</span>
<span class="n">str</span>
<span class="s">&quot;Hello World&quot;</span>
</pre></div>


<h3 id="tostring">toString 转换为字符串</h3>
<p>可以是数值， 布尔值，对象和字符串</p>
<div class="hlcode"><pre><span class="n">str</span><span class="p">.</span><span class="n">toString</span><span class="p">()</span>
</pre></div>


<h3 id="tri">tri 去除空格</h3>
<p>ES5中新增<code>trim()</code>方法用于去除字符串的左右空格，<strong>该方法会创建一个字符串的副本，不会改变原有的字符串</strong>，此外，Firefox 3.5+、Safari 5+<br />
和 Chrome 8+还支持非标准的 trimLeft()和 trimRight()方法，分别用于删除字符串开头和末尾的<br />
空格。</p>
<p>其实去空格可以使用正则去匹配的去掉，这里写一个去空格函数</p>
<div class="hlcode"><pre><span class="cm">/*trim    去掉空白</span>
<span class="cm">str要处理的字符串        </span>
<span class="cm">[type]     类型：l 去除左边的空白    r去除右边空白    b去掉两边的空白        a去除所有空白*/</span>
<span class="k">function</span> <span class="n">trim</span> <span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="k">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">var</span> <span class="k">type</span><span class="o">=</span><span class="k">type</span><span class="o">||</span><span class="s">&quot;b&quot;</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="k">type</span><span class="o">==</span><span class="s">&quot;b&quot;</span><span class="p">){</span>
        <span class="k">return</span> <span class="n">str</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="o">/^</span><span class="err">\</span><span class="n">s</span><span class="o">*|</span><span class="err">\</span><span class="n">s</span><span class="o">*</span><span class="err">$</span><span class="o">/</span><span class="n">g</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">);</span>
    <span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="k">type</span><span class="o">==</span><span class="s">&quot;l&quot;</span><span class="p">){</span>
        <span class="k">return</span> <span class="n">str</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="o">/^</span><span class="err">\</span><span class="n">s</span><span class="err">*/</span><span class="n">g</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">);</span>
    <span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="k">type</span><span class="o">==</span><span class="s">&quot;r&quot;</span><span class="p">){</span>
        <span class="k">return</span> <span class="n">str</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="o">/</span><span class="err">\</span><span class="n">s</span><span class="o">*</span><span class="err">$</span><span class="o">/</span><span class="n">g</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">);</span>
    <span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="k">type</span><span class="o">==</span><span class="s">&quot;a&quot;</span><span class="p">){</span>
        <span class="k">return</span> <span class="n">str</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="o">/</span><span class="err">\</span><span class="n">s</span><span class="err">*/</span><span class="n">g</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2020 Xu XueHua.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.</p>
        <p>Site Generated 2020-01-24 16:55:26</p>
      </span>
    </div>

    
    
  </body>
</html>