<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>date - Xu XueHua</title>
    <meta name="keywords" content="Xu XueHua"/>
    <meta name="description" content="Xu XueHua's public notes"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>

  <body>
    <div id="container">
      
<div id="header">
  <div class="post-nav"><a href="/">Home</a>&nbsp;&#187;&nbsp;<a href="/#JavaScript">JavaScript</a>&nbsp;&#187;&nbsp;date
    <span class="updated">Page Updated&nbsp;
      2018-06-19 13:35
    </span></div>
</div>
<div class="clearfix"></div>

<div class="page_title">date</div>

  <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#date">date 日期</a><ul>
<li><a href="#_1">获取系统当前时间</a></li>
<li><a href="#_2">创建一个指定日期和时间</a><ul>
<li><a href="#setdate">setDate()</a></li>
<li><a href="#getmonth">getMonth()</a></li>
<li><a href="#setfullyear">setFullYear()</a></li>
<li><a href="#getday">getDay()</a></li>
</ul>
</li>
<li><a href="#_3">时区</a><ul>
<li><a href="#toutcstring">toUTCString()</a></li>
</ul>
</li>
<li><a href="#_4">实时钟表</a></li>
</ul>
</li>
</ul>
</div>
<h1 id="date">date 日期</h1>
<h2 id="_1">获取系统当前时间</h2>
<div class="hlcode"><pre><span class="n">var</span> <span class="n">now</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Date</span><span class="p">();</span>
<span class="n">now</span><span class="p">;</span> <span class="c1">// Wed Jun 24 2015 19:49:22 GMT+0800 (CST)</span>
<span class="n">now</span><span class="p">.</span><span class="n">getFullYear</span><span class="p">();</span> <span class="c1">// 2015, 年份</span>
<span class="n">now</span><span class="p">.</span><span class="n">getMonth</span><span class="p">();</span> <span class="c1">// 5, 月份，注意月份范围是0~11，5表示六月</span>
<span class="n">now</span><span class="p">.</span><span class="n">getDate</span><span class="p">();</span> <span class="c1">// 24, 表示24号</span>
<span class="n">now</span><span class="p">.</span><span class="n">getDay</span><span class="p">();</span> <span class="c1">// 3, 表示星期三</span>
<span class="n">now</span><span class="p">.</span><span class="n">getHours</span><span class="p">();</span> <span class="c1">// 19, 24小时制</span>
<span class="n">now</span><span class="p">.</span><span class="n">getMinutes</span><span class="p">();</span> <span class="c1">// 49, 分钟</span>
<span class="n">now</span><span class="p">.</span><span class="n">getSeconds</span><span class="p">();</span> <span class="c1">// 22, 秒</span>
<span class="n">now</span><span class="p">.</span><span class="n">getMilliseconds</span><span class="p">();</span> <span class="c1">// 875, 毫秒数</span>
<span class="n">now</span><span class="p">.</span><span class="n">getTime</span><span class="p">();</span> <span class="c1">// 1435146562875, 以number形式表示的时间戳</span>
</pre></div>


<blockquote>
<p>注意，当前时间是浏览器从本机操作系统获取的时间，所以不一定准确，因为用户可以把当前时间设定为任何值。</p>
</blockquote>
<h2 id="_2">创建一个指定日期和时间</h2>
<div class="hlcode"><pre><span class="n">var</span> <span class="n">d</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Date</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">123</span><span class="p">);</span>
<span class="n">d</span><span class="p">;</span> <span class="c1">// Fri Jun 19 2015 20:15:30 GMT+0800 (CST)</span>
</pre></div>


<blockquote>
<ul>
<li>你可能观察到了一个<em>非常非常坑爹</em>的地方，就是JavaScript的月份范围用整数表示是0~11，<code>0</code>表示一月，<code>1</code>表示二月……，所以要表示6月，我们传入的是<code>5</code>！这绝对是JavaScript的设计者当时脑抽了一下，但是现在要修复已经不可能了。</li>
</ul>
</blockquote>
<h3 id="setdate">setDate()</h3>
<div class="hlcode"><pre><span class="n">d</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Date</span><span class="p">();</span>
<span class="n">Thu</span> <span class="n">Jul</span> <span class="mi">26</span> <span class="mi">2018</span> <span class="mo">00</span><span class="o">:</span><span class="mi">41</span><span class="o">:</span><span class="mi">52</span> <span class="n">GMT</span><span class="o">+</span><span class="mi">0800</span> <span class="p">(</span><span class="n">CST</span><span class="p">)</span>
<span class="n">d</span><span class="p">.</span><span class="n">setDate</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="n">getDate</span><span class="p">()</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span>
<span class="mi">1532968912006</span>
<span class="n">d</span>
<span class="n">Tue</span> <span class="n">Jul</span> <span class="mi">31</span> <span class="mi">2018</span> <span class="mo">00</span><span class="o">:</span><span class="mi">41</span><span class="o">:</span><span class="mi">52</span> <span class="n">GMT</span><span class="o">+</span><span class="mi">0800</span> <span class="p">(</span><span class="n">CST</span><span class="p">)</span>
</pre></div>


<h3 id="getmonth">getMonth()</h3>
<p>建一个指定日期和时间的方法是解析一个符合<a href="http://www.w3.org/TR/NOTE-datetime">ISO 8601</a>格式的字符串：</p>
<div class="hlcode"><pre><span class="n">var</span> <span class="n">d</span> <span class="o">=</span> <span class="n">Date</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="err">&#39;</span><span class="mi">2015</span><span class="o">-</span><span class="mo">06</span><span class="o">-</span><span class="mi">24</span><span class="n">T19</span><span class="o">:</span><span class="mi">49</span><span class="o">:</span><span class="mf">22.875</span><span class="o">+</span><span class="mi">08</span><span class="o">:</span><span class="mo">00</span><span class="err">&#39;</span><span class="p">);</span>
<span class="n">d</span><span class="p">;</span> <span class="c1">// 1435146562875</span>
<span class="n">var</span> <span class="n">d</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Date</span><span class="p">(</span><span class="mi">1435146562875</span><span class="p">);</span>
<span class="n">d</span><span class="p">;</span> <span class="c1">// Wed Jun 24 2015 19:49:22 GMT+0800 (CST)</span>
<span class="n">d</span><span class="p">.</span><span class="n">getMonth</span><span class="p">();</span> <span class="c1">// 5</span>
</pre></div>


<h3 id="setfullyear">setFullYear()</h3>
<div class="hlcode"><pre><span class="n">d</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Date</span><span class="p">();</span>
<span class="n">Thu</span> <span class="n">Jul</span> <span class="mi">26</span> <span class="mi">2018</span> <span class="mo">00</span><span class="o">:</span><span class="mi">35</span><span class="o">:</span><span class="mi">22</span> <span class="n">GMT</span><span class="o">+</span><span class="mi">0800</span> <span class="p">(</span><span class="n">CST</span><span class="p">)</span>
<span class="n">d</span><span class="p">.</span><span class="n">setFullYear</span><span class="p">(</span><span class="mi">1989</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">14</span><span class="p">);</span>
<span class="mi">605810122816</span>
<span class="n">d</span>
<span class="n">Tue</span> <span class="n">Mar</span> <span class="mi">14</span> <span class="mi">1989</span> <span class="mo">00</span><span class="o">:</span><span class="mi">35</span><span class="o">:</span><span class="mi">22</span> <span class="n">GMT</span><span class="o">+</span><span class="mi">0800</span> <span class="p">(</span><span class="n">CST</span><span class="p">)</span>
</pre></div>


<h3 id="getday">getDay()</h3>
<p>显示星期</p>
<div class="hlcode"><pre><span class="n">d</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Date</span><span class="p">();</span>
<span class="n">Thu</span> <span class="n">Jul</span> <span class="mi">26</span> <span class="mi">2018</span> <span class="mo">00</span><span class="o">:</span><span class="mi">37</span><span class="o">:</span><span class="mi">45</span> <span class="n">GMT</span><span class="o">+</span><span class="mi">0800</span> <span class="p">(</span><span class="n">CST</span><span class="p">)</span>
<span class="n">d</span><span class="p">.</span><span class="n">getDay</span><span class="p">()</span>
<span class="mi">4</span>
</pre></div>


<h2 id="_3">时区</h2>
<p><code>Date</code>对象表示的时间总是按浏览器所在时区显示的，不过我们既可以显示本地时间，也可以显示调整后的UTC时间：</p>
<h3 id="toutcstring">toUTCString()</h3>
<div class="hlcode"><pre><span class="n">var</span> <span class="n">d</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Date</span><span class="p">(</span><span class="mi">1435146562875</span><span class="p">);</span>
<span class="n">d</span><span class="p">.</span><span class="n">toLocaleString</span><span class="p">();</span> <span class="c1">// &#39;2015/6/24 下午7:49:22&#39;，本地时间（北京时区+8:00），显示的字符串与操作系统设定的格式有关</span>
<span class="n">d</span><span class="p">.</span><span class="n">toUTCString</span><span class="p">();</span> <span class="c1">// &#39;Wed, 24 Jun 2015 11:49:22 GMT&#39;，UTC时间，与本地时间相差8小时</span>
</pre></div>


<blockquote>
<p>时间戳是一个自增的整数，它表示从1970年1月1日零时整的GMT时区开始的那一刻，到现在的毫秒数。假设浏览器所在电脑的时间是准确的，那么世界上无论哪个时区的电脑，它们此刻产生的时间戳数字都是一样的，所以，时间戳可以精确地表示一个时刻，并且与时区无关。</p>
</blockquote>
<h2 id="_4">实时钟表</h2>
<div class="hlcode"><pre><span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;script</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
function startTime()
{
var today=new Date()
var h=today.getHours()
var m=today.getMinutes()
var s=today.getSeconds()
// add a zero in front of numbers<span class="nt">&lt;10</span>
<span class="na">m=</span><span class="s">checkTime(m)</span>
<span class="na">s=</span><span class="s">checkTime(s)</span>
<span class="err">document.getElementById(&#39;txt&#39;)</span><span class="na">.innerHTML=</span><span class="s">h+&quot;:&quot;+m+&quot;:&quot;+s</span>
<span class="na">t=</span><span class="s">setTimeout(&#39;startTime()&#39;,500)</span>
<span class="err">}</span>

<span class="err">function</span> <span class="err">checkTime(i)</span>
<span class="err">{</span>
<span class="err">if</span> <span class="err">(i&lt;10)</span> 
  <span class="err">{</span><span class="na">i=</span><span class="s">&quot;0&quot;</span> <span class="err">+</span> <span class="err">i}</span>
  <span class="err">return</span> <span class="err">i</span>
<span class="err">}</span>
<span class="err">&lt;/script</span><span class="nt">&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body</span> <span class="na">onload=</span><span class="s">&quot;startTime()&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;txt&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2019 Xu XueHua.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.</p>
        <p>Site Generated 2019-06-18 11:28:27</p>
      </span>
    </div>

    
    
  </body>
</html>