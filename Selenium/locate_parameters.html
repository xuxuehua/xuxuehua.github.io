<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>locate_parameters 元素定位 - Xu XueHua</title>
    <meta name="keywords" content="Xu XueHua"/>
    <meta name="description" content="Xu XueHua's public notes"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>

  <body>
    <div id="container">
      
<div id="header">
  <div class="post-nav"><a href="/">Home</a>&nbsp;&#187;&nbsp;<a href="/#Selenium">Selenium</a>&nbsp;&#187;&nbsp;locate_parameters 元素定位
    <span class="updated">Page Updated&nbsp;
      2018-07-19 18:17
    </span></div>
</div>
<div class="clearfix"></div>

<div class="page_title">locate_parameters 元素定位</div>

  <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#_1">元素定位</a><ul>
<li><a href="#python-selenium">Python selenium定位方法</a><ul>
<li><a href="#_2">定位方法的用法</a><ul>
<li><a href="#id">通过id定位:</a></li>
<li><a href="#name">通过name定位:</a></li>
<li><a href="#class-name">通过class name定位:</a></li>
<li><a href="#tag-name">通过tag name定位:</a></li>
<li><a href="#xpath">通过xpath定位</a></li>
<li><a href="#css">通过css定位</a></li>
<li><a href="#link-text">通过link text定位:</a></li>
<li><a href="#_3">定位一组元素</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#nodejs-selenium">nodejs selenium 定位方法</a><ul>
<li><a href="#byclassname-name">By.className( name )</a></li>
<li><a href="#bycss-selector">By.css( selector )</a></li>
<li><a href="#byid-id">By.id( id )</a></li>
<li><a href="#byjs-script-var_args">By.js( script, …var_args )</a></li>
<li><a href="#bylinktext-text">By.linkText( text )</a></li>
<li><a href="#byname-name">By.name( name )</a></li>
<li><a href="#bypartiallinktext-text">By.partialLinkText( text )</a></li>
<li><a href="#byxpath-xpath">By.xpath( xpath )</a><ul>
<li><a href="#xpath_1">xpath语法要点</a></li>
</ul>
</li>
<li><a href="#_4">定位一组元素</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h1 id="_1">元素定位</h1>
<h2 id="python-selenium">Python selenium定位方法</h2>
<p>Selenium提供了8种定位方式。</p>
<ul>
<li>id</li>
<li>name</li>
<li>class name</li>
<li>tag name</li>
<li>link text</li>
<li>partial link text</li>
<li>xpath</li>
<li>css selector</li>
</ul>
<p>这8种定位方式在Python selenium中所对应的方法为：</p>
<ul>
<li>find_element_by_id()</li>
<li>find_element_by_name()</li>
<li>find_element_by_class_name()</li>
<li>find_element_by_tag_name()</li>
<li>find_element_by_link_text()</li>
<li>find_element_by_partial_link_text()</li>
<li>find_element_by_xpath()</li>
<li>find_element_by_css_selector()</li>
</ul>
<h3 id="_2">定位方法的用法</h3>
<p>假如我们有一个Web页面，通过前端工具（如，Firebug）查看到一个元素的属性是这样的。</p>
<div class="hlcode"><pre><span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;body</span> <span class="na">link=</span><span class="s">&quot;#0000cc&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">id=</span><span class="s">&quot;result_logo&quot;</span> <span class="na">href=</span><span class="s">&quot;/&quot;</span> <span class="na">onmousedown=</span><span class="s">&quot;return c({&#39;fm&#39;:&#39;tab&#39;,&#39;tab&#39;:&#39;logo&#39;})&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;form</span> <span class="na">id=</span><span class="s">&quot;form&quot;</span> <span class="na">class=</span><span class="s">&quot;fm&quot;</span> <span class="na">name=</span><span class="s">&quot;f&quot;</span> <span class="na">action=</span><span class="s">&quot;/s&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;soutu-btn&quot;</span><span class="nt">&gt;&lt;/span&gt;</span>
        <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">&quot;kw&quot;</span> <span class="na">class=</span><span class="s">&quot;s_ipt&quot;</span> <span class="na">name=</span><span class="s">&quot;wd&quot;</span> <span class="na">value=</span><span class="s">&quot;&quot;</span> <span class="na">maxlength=</span><span class="s">&quot;255&quot;</span> <span class="na">autocomplete=</span><span class="s">&quot;off&quot;</span><span class="nt">&gt;</span>
</pre></div>


<p>我们的目的是要定位input标签的输入框。</p>
<h4 id="id">通过id定位:</h4>
<p><code>dr.find_element_by_id("kw")
dr.find_element(BY.ID, "kw")</code></p>
<h4 id="name">通过name定位:</h4>
<div class="hlcode"><pre><span class="n">dr</span><span class="p">.</span><span class="n">find_element_by_name</span><span class="p">(</span><span class="s">&quot;wd&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="p">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="p">.</span><span class="n">NAME</span><span class="p">,</span> <span class="s">&quot;wd&quot;</span><span class="p">)</span>
</pre></div>


<h4 id="class-name">通过class name定位:</h4>
<p><code>dr.find_element_by_class_name("s_ipt")
dr.find_element(By.CLASS_NAME, "s_ipt")</code></p>
<h4 id="tag-name">通过tag name定位:</h4>
<p><code>dr.find_element_by_tag_name("input")
  dr.find_element(By.TAG_NAME, "input")</code></p>
<h4 id="xpath">通过xpath定位</h4>
<p><code>dr.find_element_by_xpath("//*[@id='kw']")
  dr.find_element(By.XPATH, "//*[@id='kw']")
  dr.find_element_by_xpath("//*[@name='wd']")
  dr.find_element_by_xpath("//input[@class='s_ipt']")
  dr.find_element_by_xpath("/html/body/form/span/input")
  dr.find_element_by_xpath("//span[@class='soutu-btn']/input")
  dr.find_element_by_xpath("//form[@id='form']/span/input")
  dr.find_element_by_xpath("//input[@id='kw' and @name='wd']")</code></p>
<h4 id="css">通过css定位</h4>
<p><code>from selenium.webdriver.common.by import By
  dr.find_element(By.CSS_SELECTOR, "#kw")
  dr.find_element_by_css_selector("#kw")
  dr.find_element_by_css_selector("[name=wd]")
  dr.find_element_by_css_selector(".s_ipt")
  dr.find_element_by_css_selector("html &gt; body &gt; form &gt; span &gt; input")
  dr.find_element_by_css_selector("span.soutu-btn&gt; input#kw")
  dr.find_element_by_css_selector("form#form &gt; span &gt; input")</code></p>
<p>接下来，我们的页面上有一组文本链接。</p>
<div class="hlcode"><pre><span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;mnav&quot;</span> <span class="na">href=</span><span class="s">&quot;http://news.baidu.com&quot;</span> <span class="na">name=</span><span class="s">&quot;tj_trnews&quot;</span><span class="nt">&gt;</span>新闻<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;mnav&quot;</span> <span class="na">href=</span><span class="s">&quot;http://www.hao123.com&quot;</span> <span class="na">name=</span><span class="s">&quot;tj_trhao123&quot;</span><span class="nt">&gt;</span>hao123<span class="nt">&lt;/a&gt;</span>
</pre></div>


<h4 id="link-text">通过link text定位:</h4>
<p><code>from selenium.webdriver.common.by import By
dr.find_element(By.LINK_TEXT, "hao123")
dr.find_element_by_link_text("新闻")
dr.find_element_by_link_text("hao123")
dr.find_element_by_partial_link_text("新")
dr.find_element_by_partial_link_text("hao")
dr.find_element_by_partial_link_text("123")</code></p>
<p>关于xpaht和css的定位比较复杂，请参考： <a href="http://www.w3school.com.cn/xpath/xpath_syntax.asp">xpath语法</a>、 <a href="http://www.w3school.com.cn/cssref/css_selectors.asp">css选择器</a></p>
<h4 id="_3">定位一组元素</h4>
<p>WebDriver还提供了8种用于定位一组元素的方法。</p>
<div class="hlcode"><pre><span class="n">find_elements_by_id</span><span class="p">()</span>
<span class="n">find_elements_by_name</span><span class="p">()</span>
<span class="n">find_elements_by_class_name</span><span class="p">()</span>
<span class="n">find_elements_by_tag_name</span><span class="p">()</span>
<span class="n">find_elements_by_link_text</span><span class="p">()</span>
<span class="n">find_elements_by_partial_link_text</span><span class="p">()</span>
<span class="n">find_elements_by_xpath</span><span class="p">()</span>
<span class="n">find_elements_by_css_selector</span><span class="p">()</span>
</pre></div>


<p>定位一组元素的方法与定位单个元素的方法类似，唯一的区别是在单词element后面多了一个s表示复数。</p>
<p>接下来通过例子演示定位一组元素的使用：</p>
<div class="hlcode"><pre><span class="n">from</span> <span class="n">selenium</span> <span class="n">import</span> <span class="n">webdriver</span>
<span class="n">from</span> <span class="n">time</span> <span class="n">import</span> <span class="n">sleep</span>

<span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">Chrome</span><span class="p">()</span>
<span class="n">driver</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;https://www.baidu.com&quot;</span><span class="p">)</span>

<span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">&quot;kw&quot;</span><span class="p">).</span><span class="n">send_keys</span><span class="p">(</span><span class="s">&quot;selenium&quot;</span><span class="p">)</span>
<span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">&quot;su&quot;</span><span class="p">).</span><span class="n">click</span><span class="p">()</span>
<span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="cp"># 定位一组元素</span>
<span class="n">texts</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">find_elements_by_xpath</span><span class="p">(</span><span class="err">&#39;</span><span class="c1">//div/h3/a&#39;)</span>

<span class="cp"># 循环遍历出每一条搜索结果的标题</span>
<span class="k">for</span> <span class="n">t</span> <span class="n">in</span> <span class="n">texts</span><span class="o">:</span>
    <span class="n">print</span><span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>

<span class="n">driver</span><span class="p">.</span><span class="n">quit</span><span class="p">()</span>
</pre></div>


<p>程序运行结果：</p>
<div class="hlcode"><pre><span class="n">Selenium</span> <span class="o">-</span> <span class="n">Web</span> <span class="n">Browser</span> <span class="n">Automation</span>
<span class="err">官网</span>
<span class="err">功能自动化测试工具——</span><span class="n">Selenium</span><span class="err">篇</span>
<span class="n">selenium</span> <span class="o">+</span> <span class="n">python</span><span class="err">自动化测试环境搭建</span> <span class="o">-</span> <span class="err">虫师</span> <span class="o">-</span> <span class="err">博客园</span>
<span class="n">selenium</span><span class="err">是什么</span><span class="o">?</span><span class="n">_</span><span class="err">百度知道</span>
<span class="err">怎样开始用</span><span class="n">selenium</span><span class="err">进行自动化测试</span><span class="p">(</span><span class="err">个人总结</span><span class="p">)</span><span class="n">_</span><span class="err">百度经验</span>
<span class="n">Selenium_</span><span class="err">百度百科</span>
<span class="n">selenium_</span><span class="err">百度翻译</span>
<span class="n">Selenium</span><span class="err">官网教程</span><span class="n">_selenium</span><span class="err">自动化测试实践</span><span class="n">_Selenium_</span><span class="err">领测软件测试网</span>
<span class="n">Selenium</span><span class="p">(</span><span class="err">浏览器自动化测试框架</span><span class="p">)</span><span class="n">_</span><span class="err">百度百科</span>
<span class="err">自动化基础普及之</span><span class="n">selenium</span><span class="err">是啥</span><span class="o">?</span> <span class="o">-</span> <span class="err">虫师</span> <span class="o">-</span> <span class="err">博客园</span>
<span class="n">python</span><span class="err">十大主流开源框架</span> <span class="err">「菜鸟必看」</span>
</pre></div>


<h2 id="nodejs-selenium">nodejs selenium 定位方法</h2>
<h3 id="byclassname-name">By.className( name )</h3>
<p>selenium<strong>不支持</strong>复合的class属性。比如<code>class="col-md-1 col-sm-2"</code>，我们只能通过<code>col-md-1</code>或者是<code>col-sm-2</code>来定位，不能同时使用这2个class进行定位。</p>
<div class="hlcode"><pre><span class="nt">&lt;p&gt;</span>
  <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;input__text3&quot;</span> <span class="na">class=</span><span class="s">&quot;error&quot;</span><span class="nt">&gt;</span>Error<span class="nt">&lt;/label&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">&quot;input__text3&quot;</span> <span class="na">class=</span><span class="s">&quot;is-error&quot;</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">placeholder=</span><span class="s">&quot;Text Input&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;p&gt;</span>
  <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;input__text4&quot;</span> <span class="na">class=</span><span class="s">&quot;valid&quot;</span><span class="nt">&gt;</span>Valid<span class="nt">&lt;/label&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">&quot;input__text4&quot;</span> <span class="na">class=</span><span class="s">&quot;is-valid&quot;</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">placeholder=</span><span class="s">&quot;Text Input&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/p&gt;</span>
</pre></div>


<div class="hlcode"><pre><span class="n">var</span> <span class="n">path</span> <span class="o">=</span> <span class="n">require</span><span class="p">(</span><span class="err">&#39;</span><span class="n">path</span><span class="err">&#39;</span><span class="p">);</span>
<span class="n">var</span> <span class="n">webdriver</span> <span class="o">=</span> <span class="n">require</span><span class="p">(</span><span class="err">&#39;</span><span class="n">selenium</span><span class="o">-</span><span class="n">webdriver</span><span class="err">&#39;</span><span class="p">),</span>
  <span class="n">By</span> <span class="o">=</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">By</span><span class="p">;</span>

<span class="n">var</span> <span class="n">testFile</span> <span class="o">=</span> <span class="s">&quot;file://&quot;</span> <span class="o">+</span> <span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">__dirname</span><span class="p">,</span>  <span class="s">&quot;index.html&quot;</span><span class="p">)</span>

<span class="n">var</span> <span class="n">dr</span> <span class="o">=</span> <span class="n">new</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">Builder</span><span class="p">().</span><span class="n">forBrowser</span><span class="p">(</span><span class="err">&#39;</span><span class="n">chrome</span><span class="err">&#39;</span><span class="p">).</span><span class="n">build</span><span class="p">();</span>
<span class="n">dr</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">testFile</span><span class="p">)</span>

<span class="n">dr</span><span class="p">.</span><span class="n">findElement</span><span class="p">(</span><span class="n">By</span><span class="p">.</span><span class="n">className</span><span class="p">(</span><span class="err">&#39;</span><span class="n">is</span><span class="o">-</span><span class="n">error</span><span class="err">&#39;</span><span class="p">)).</span><span class="n">sendKeys</span><span class="p">(</span><span class="err">&#39;</span><span class="n">should</span> <span class="n">be</span> <span class="n">error</span><span class="err">&#39;</span><span class="p">);</span>
<span class="n">dr</span><span class="p">.</span><span class="n">findElement</span><span class="p">(</span><span class="n">By</span><span class="p">.</span><span class="n">className</span><span class="p">(</span><span class="err">&#39;</span><span class="n">is</span><span class="o">-</span><span class="n">valid</span><span class="err">&#39;</span><span class="p">)).</span><span class="n">sendKeys</span><span class="p">(</span><span class="err">&#39;</span><span class="n">should</span> <span class="n">be</span> <span class="n">valid</span><span class="err">&#39;</span><span class="p">);</span>
</pre></div>


<h3 id="bycss-selector">By.css( selector )</h3>
<div class="hlcode"><pre><span class="nt">&lt;p&gt;</span>
  <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;input__search&quot;</span><span class="nt">&gt;</span>Search<span class="nt">&lt;/label&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">&quot;input__search&quot;</span> <span class="na">type=</span><span class="s">&quot;search&quot;</span> <span class="na">placeholder=</span><span class="s">&quot;Enter Search Term&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;p&gt;</span>
  <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;input__text2&quot;</span><span class="nt">&gt;</span>Number Input<span class="nt">&lt;/label&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">&quot;input__text2&quot;</span> <span class="na">type=</span><span class="s">&quot;number&quot;</span> <span class="na">placeholder=</span><span class="s">&quot;Enter a Number&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;p&gt;</span>
  <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;input__text3&quot;</span> <span class="na">class=</span><span class="s">&quot;error&quot;</span><span class="nt">&gt;</span>Error<span class="nt">&lt;/label&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">&quot;input__text3&quot;</span> <span class="na">class=</span><span class="s">&quot;is-error&quot;</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">placeholder=</span><span class="s">&quot;Text Input&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;p&gt;</span>
  <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;input__text4&quot;</span> <span class="na">class=</span><span class="s">&quot;valid&quot;</span><span class="nt">&gt;</span>Valid<span class="nt">&lt;/label&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">&quot;input__text4&quot;</span> <span class="na">class=</span><span class="s">&quot;is-valid&quot;</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">placeholder=</span><span class="s">&quot;Text Input&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/p&gt;</span>
</pre></div>


<div class="hlcode"><pre><span class="n">var</span> <span class="n">path</span> <span class="o">=</span> <span class="n">require</span><span class="p">(</span><span class="err">&#39;</span><span class="n">path</span><span class="err">&#39;</span><span class="p">);</span>
<span class="n">var</span> <span class="n">webdriver</span> <span class="o">=</span> <span class="n">require</span><span class="p">(</span><span class="err">&#39;</span><span class="n">selenium</span><span class="o">-</span><span class="n">webdriver</span><span class="err">&#39;</span><span class="p">),</span>
  <span class="n">By</span> <span class="o">=</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">By</span><span class="p">;</span>

<span class="n">var</span> <span class="n">testFile</span> <span class="o">=</span> <span class="s">&quot;file://&quot;</span> <span class="o">+</span> <span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">__dirname</span><span class="p">,</span>  <span class="s">&quot;index.html&quot;</span><span class="p">);</span>

<span class="n">var</span> <span class="n">dr</span> <span class="o">=</span> <span class="n">new</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">Builder</span><span class="p">().</span><span class="n">forBrowser</span><span class="p">(</span><span class="err">&#39;</span><span class="n">chrome</span><span class="err">&#39;</span><span class="p">).</span><span class="n">build</span><span class="p">();</span>
<span class="n">dr</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">testFile</span><span class="p">);</span>

<span class="c1">// id selector</span>
<span class="n">dr</span><span class="p">.</span><span class="n">findElement</span><span class="p">(</span><span class="n">By</span><span class="p">.</span><span class="n">css</span><span class="p">(</span><span class="err">&#39;#</span><span class="n">input__search</span><span class="err">&#39;</span><span class="p">)).</span><span class="n">sendKeys</span><span class="p">(</span><span class="err">&#39;测试教程网&#39;</span><span class="p">);</span>
<span class="c1">// attribute selector</span>
<span class="n">dr</span><span class="p">.</span><span class="n">findElement</span><span class="p">(</span><span class="n">By</span><span class="p">.</span><span class="n">css</span><span class="p">(</span><span class="err">&#39;</span><span class="n">input</span><span class="p">[</span><span class="n">type</span><span class="o">=</span><span class="s">&quot;number&quot;</span><span class="p">]</span><span class="err">&#39;</span><span class="p">)).</span><span class="n">sendKeys</span><span class="p">(</span><span class="err">&#39;</span><span class="mi">66666</span><span class="err">&#39;</span><span class="p">);</span>
<span class="c1">// class selector</span>
<span class="n">dr</span><span class="p">.</span><span class="n">findElement</span><span class="p">(</span><span class="n">By</span><span class="p">.</span><span class="n">css</span><span class="p">(</span><span class="err">&#39;</span><span class="p">.</span><span class="n">is</span><span class="o">-</span><span class="n">error</span><span class="err">&#39;</span><span class="p">)).</span><span class="n">sendKeys</span><span class="p">(</span><span class="err">&#39;</span><span class="n">should</span> <span class="n">be</span> <span class="n">error</span><span class="err">&#39;</span><span class="p">);</span>
<span class="c1">// class selector</span>
<span class="n">dr</span><span class="p">.</span><span class="n">findElement</span><span class="p">(</span><span class="n">By</span><span class="p">.</span><span class="n">css</span><span class="p">(</span><span class="err">&#39;</span><span class="p">.</span><span class="n">is</span><span class="o">-</span><span class="n">valid</span><span class="err">&#39;</span><span class="p">)).</span><span class="n">sendKeys</span><span class="p">(</span><span class="err">&#39;</span><span class="n">should</span> <span class="n">be</span> <span class="n">valid</span><span class="err">&#39;</span><span class="p">);</span>
</pre></div>


<h3 id="byid-id">By.id( id )</h3>
<div class="hlcode"><pre><span class="n">var</span> <span class="n">path</span> <span class="o">=</span> <span class="n">require</span><span class="p">(</span><span class="err">&#39;</span><span class="n">path</span><span class="err">&#39;</span><span class="p">);</span>
<span class="n">var</span> <span class="n">webdriver</span> <span class="o">=</span> <span class="n">require</span><span class="p">(</span><span class="err">&#39;</span><span class="n">selenium</span><span class="o">-</span><span class="n">webdriver</span><span class="err">&#39;</span><span class="p">),</span>
  <span class="n">By</span> <span class="o">=</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">By</span><span class="p">;</span>

<span class="n">var</span> <span class="n">testFile</span> <span class="o">=</span> <span class="s">&quot;file://&quot;</span> <span class="o">+</span> <span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">__dirname</span><span class="p">,</span>  <span class="s">&quot;index.html&quot;</span><span class="p">)</span>

<span class="n">var</span> <span class="n">dr</span> <span class="o">=</span> <span class="n">new</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">Builder</span><span class="p">().</span><span class="n">forBrowser</span><span class="p">(</span><span class="err">&#39;</span><span class="n">chrome</span><span class="err">&#39;</span><span class="p">).</span><span class="n">build</span><span class="p">();</span>
<span class="n">dr</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">testFile</span><span class="p">)</span>

<span class="n">dr</span><span class="p">.</span><span class="n">findElement</span><span class="p">(</span><span class="n">By</span><span class="p">.</span><span class="n">id</span><span class="p">(</span><span class="err">&#39;</span><span class="n">input__text</span><span class="err">&#39;</span><span class="p">)).</span><span class="n">sendKeys</span><span class="p">(</span><span class="err">&#39;测试教程网&#39;</span><span class="p">);</span>
<span class="n">dr</span><span class="p">.</span><span class="n">findElement</span><span class="p">(</span><span class="n">By</span><span class="p">.</span><span class="n">id</span><span class="p">(</span><span class="err">&#39;</span><span class="n">input__password</span><span class="err">&#39;</span><span class="p">)).</span><span class="n">sendKeys</span><span class="p">(</span><span class="err">&#39;</span><span class="n">password</span><span class="err">&#39;</span><span class="p">);</span>
<span class="n">dr</span><span class="p">.</span><span class="n">findElement</span><span class="p">(</span><span class="n">By</span><span class="p">.</span><span class="n">id</span><span class="p">(</span><span class="err">&#39;</span><span class="n">input__webaddress</span><span class="err">&#39;</span><span class="p">)).</span><span class="n">sendKeys</span><span class="p">(</span><span class="err">&#39;</span><span class="n">http</span><span class="o">:</span><span class="c1">//www.itest.info&#39;);</span>
<span class="n">dr</span><span class="p">.</span><span class="n">findElement</span><span class="p">(</span><span class="n">By</span><span class="p">.</span><span class="n">id</span><span class="p">(</span><span class="err">&#39;</span><span class="n">input__emailaddress</span><span class="err">&#39;</span><span class="p">)).</span><span class="n">sendKeys</span><span class="p">(</span><span class="err">&#39;</span><span class="n">service</span><span class="err">@</span><span class="n">itest</span><span class="p">.</span><span class="n">info</span><span class="err">&#39;</span><span class="p">);</span>
<span class="n">dr</span><span class="p">.</span><span class="n">findElement</span><span class="p">(</span><span class="n">By</span><span class="p">.</span><span class="n">id</span><span class="p">(</span><span class="err">&#39;</span><span class="n">input__phone</span><span class="err">&#39;</span><span class="p">)).</span><span class="n">sendKeys</span><span class="p">(</span><span class="err">&#39;</span><span class="mi">13888888888</span><span class="err">&#39;</span><span class="p">);</span>
<span class="n">dr</span><span class="p">.</span><span class="n">findElement</span><span class="p">(</span><span class="n">By</span><span class="p">.</span><span class="n">id</span><span class="p">(</span><span class="err">&#39;</span><span class="n">input__search</span><span class="err">&#39;</span><span class="p">)).</span><span class="n">sendKeys</span><span class="p">(</span><span class="err">&#39;</span><span class="n">keywords</span><span class="err">&#39;</span><span class="p">);</span>
<span class="n">dr</span><span class="p">.</span><span class="n">findElement</span><span class="p">(</span><span class="n">By</span><span class="p">.</span><span class="n">id</span><span class="p">(</span><span class="err">&#39;</span><span class="n">input__text2</span><span class="err">&#39;</span><span class="p">)).</span><span class="n">sendKeys</span><span class="p">(</span><span class="err">&#39;</span><span class="mi">6666666</span><span class="err">&#39;</span><span class="p">);</span>
<span class="n">dr</span><span class="p">.</span><span class="n">findElement</span><span class="p">(</span><span class="n">By</span><span class="p">.</span><span class="n">id</span><span class="p">(</span><span class="err">&#39;</span><span class="n">input__text3</span><span class="err">&#39;</span><span class="p">)).</span><span class="n">sendKeys</span><span class="p">(</span><span class="err">&#39;</span><span class="n">should</span> <span class="n">be</span> <span class="n">error</span><span class="err">&#39;</span><span class="p">);</span>
<span class="n">dr</span><span class="p">.</span><span class="n">findElement</span><span class="p">(</span><span class="n">By</span><span class="p">.</span><span class="n">id</span><span class="p">(</span><span class="err">&#39;</span><span class="n">input__text4</span><span class="err">&#39;</span><span class="p">)).</span><span class="n">sendKeys</span><span class="p">(</span><span class="err">&#39;</span><span class="n">should</span> <span class="n">be</span> <span class="n">valid</span><span class="err">&#39;</span><span class="p">);</span>
</pre></div>


<h3 id="byjs-script-var_args">By.js( script, …var_args )</h3>
<h3 id="bylinktext-text">By.linkText( text )</h3>
<p>链接可以使用By.linkText和By.partialLinkText的方式去定位。</p>
<p>链接的html标签是<code>&lt;a&gt;&lt;/a&gt;</code>。</p>
<p>看这个html代码<code>&lt;a href="http://www.itet.info"&gt;这就是linkText&lt;a&gt;</code>，这里<strong>[这就是linkText]</strong> 便是这个链接的linkText，partialLinkText指的是部分的链接文本，如果链接的文本过长的时候，使用partialLinkText会起到简化代码的作用。</p>
<div class="hlcode"><pre><span class="nt">&lt;ul&gt;</span>
  <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;#text__headings&quot;</span><span class="nt">&gt;</span>Headings<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
  <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;#text__paragraphs&quot;</span><span class="nt">&gt;</span>Paragraphs<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
  <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;#text__blockquotes&quot;</span><span class="nt">&gt;</span>Blockquotes<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
  <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;#text__lists&quot;</span><span class="nt">&gt;</span>Lists<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
  <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;#text__hr&quot;</span><span class="nt">&gt;</span>Horizontal rules<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
  <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;#text__tables&quot;</span><span class="nt">&gt;</span>Tabular data<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
  <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;#text__code&quot;</span><span class="nt">&gt;</span>Code<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
  <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;#text__inline&quot;</span><span class="nt">&gt;</span>Inline elements<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>


<div class="hlcode"><pre><span class="kd">var</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">webdriver</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;selenium-webdriver&#39;</span><span class="p">),</span>
  <span class="nx">By</span> <span class="o">=</span> <span class="nx">webdriver</span><span class="p">.</span><span class="nx">By</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">testFile</span> <span class="o">=</span> <span class="s2">&quot;file://&quot;</span> <span class="o">+</span> <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span>  <span class="s2">&quot;index.html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">dr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">webdriver</span><span class="p">.</span><span class="nx">Builder</span><span class="p">().</span><span class="nx">forBrowser</span><span class="p">(</span><span class="s1">&#39;chrome&#39;</span><span class="p">).</span><span class="nx">build</span><span class="p">();</span>
<span class="nx">dr</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">testFile</span><span class="p">);</span>

<span class="nx">dr</span><span class="p">.</span><span class="nx">findElement</span><span class="p">(</span><span class="nx">By</span><span class="p">.</span><span class="nx">linkText</span><span class="p">(</span><span class="s1">&#39;Headings&#39;</span><span class="p">)).</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;href&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">href</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">href</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">dr</span><span class="p">.</span><span class="nx">findElement</span><span class="p">(</span><span class="nx">By</span><span class="p">.</span><span class="nx">linkText</span><span class="p">(</span><span class="s1">&#39;Paragraphs&#39;</span><span class="p">)).</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;href&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">href</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">href</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">dr</span><span class="p">.</span><span class="nx">findElement</span><span class="p">(</span><span class="nx">By</span><span class="p">.</span><span class="nx">linkText</span><span class="p">(</span><span class="s1">&#39;Blockquotes&#39;</span><span class="p">)).</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;href&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">href</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">href</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">dr</span><span class="p">.</span><span class="nx">findElement</span><span class="p">(</span><span class="nx">By</span><span class="p">.</span><span class="nx">linkText</span><span class="p">(</span><span class="s1">&#39;Lists&#39;</span><span class="p">)).</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;href&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">href</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">href</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">dr</span><span class="p">.</span><span class="nx">findElement</span><span class="p">(</span><span class="nx">By</span><span class="p">.</span><span class="nx">linkText</span><span class="p">(</span><span class="s1">&#39;Horizontal rules&#39;</span><span class="p">)).</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;href&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">href</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">href</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">dr</span><span class="p">.</span><span class="nx">findElement</span><span class="p">(</span><span class="nx">By</span><span class="p">.</span><span class="nx">linkText</span><span class="p">(</span><span class="s1">&#39;Tabular data&#39;</span><span class="p">)).</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;href&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">href</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">href</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">dr</span><span class="p">.</span><span class="nx">findElement</span><span class="p">(</span><span class="nx">By</span><span class="p">.</span><span class="nx">linkText</span><span class="p">(</span><span class="s1">&#39;Code&#39;</span><span class="p">)).</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;href&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">href</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">href</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">dr</span><span class="p">.</span><span class="nx">findElement</span><span class="p">(</span><span class="nx">By</span><span class="p">.</span><span class="nx">partialLinkText</span><span class="p">(</span><span class="s1">&#39;Inline&#39;</span><span class="p">)).</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;href&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">href</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">href</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">dr</span><span class="p">.</span><span class="nx">quit</span><span class="p">();</span>

<span class="o">&gt;&gt;&gt;</span>
<span class="nx">file</span><span class="o">:</span><span class="c1">//xxxx/index.html#text__headings</span>
<span class="nx">file</span><span class="o">:</span><span class="c1">//xxxx/index.html#text__paragraphs</span>
<span class="nx">file</span><span class="o">:</span><span class="c1">//xxxx/index.html#text__blockquotes</span>
<span class="nx">file</span><span class="o">:</span><span class="c1">//xxxx/index.html#text__lists</span>
<span class="nx">file</span><span class="o">:</span><span class="c1">//xxxx/index.html#text__hr</span>
<span class="nx">file</span><span class="o">:</span><span class="c1">//xxxx/index.html#text__tables</span>
<span class="nx">file</span><span class="o">:</span><span class="c1">//xxxx/index.html#text__code</span>
<span class="nx">file</span><span class="o">:</span><span class="c1">//xxxx/index.html#text__inline</span>
</pre></div>


<h3 id="byname-name">By.name( name )</h3>
<div class="hlcode"><pre><span class="c1">// &lt;input name=&quot;username&quot; /&gt;</span>
<span class="n">dr</span><span class="p">.</span><span class="n">findElement</span><span class="p">(</span><span class="n">By</span><span class="p">.</span><span class="n">name</span><span class="p">(&#39;</span><span class="n">username</span><span class="p">&#39;)).</span><span class="n">sendKeys</span><span class="p">(&#39;</span><span class="err">测试教程网</span><span class="p">&#39;);</span>


<span class="c1">// &lt;input name=&quot;password&quot; type=&quot;password&quot; /&gt;</span>
<span class="n">dr</span><span class="p">.</span><span class="n">findElement</span><span class="p">(</span><span class="n">By</span><span class="p">.</span><span class="n">name</span><span class="p">(&#39;</span><span class="n">password</span><span class="p">&#39;)).</span><span class="n">sendKeys</span><span class="p">(&#39;</span><span class="err">就不告诉你</span><span class="p">&#39;);</span>
</pre></div>


<h3 id="bypartiallinktext-text">By.partialLinkText( text )</h3>
<h3 id="byxpath-xpath">By.xpath( xpath )</h3>
<h4 id="xpath_1">xpath语法要点</h4>
<ul>
<li><code>nodename</code> 选取此节点的所有子节点。</li>
<li><code>/</code> 从根节点选取。</li>
<li><code>//</code> 从匹配选择的当前节点选择文档中的节点，而不考虑它们的位置。</li>
<li><code>.</code> 选取当前节点。</li>
<li><code>..</code> 选取当前节点的父节点。</li>
<li><code>@</code> 选取属性。</li>
</ul>
<div class="hlcode"><pre><span class="c1">// &lt;input id=&quot;input__text2&quot; type=&quot;number&quot; placeholder=&quot;Enter a Number&quot;&gt;</span>
<span class="n">dr</span><span class="p">.</span><span class="n">findElement</span><span class="p">(</span><span class="n">By</span><span class="p">.</span><span class="n">xpath</span><span class="p">(&#39;</span><span class="c1">//input[@type=&quot;number&quot;]&#39;)).sendKeys(&#39;66666&#39;);</span>
</pre></div>


<h3 id="_4">定位一组元素</h3>
<p>定位一组元素一般有如下的作用</p>
<ul>
<li>找到一组属性部分相同的元素，遍历元素，做一些批量操作</li>
<li>找到一组属性部分相同的元素，遍历元素，返回<strong>1个或几个</strong>特定的元素，做更精确的定位</li>
</ul>
<p>findElements方法可以定位一组元素。该方法的参数跟findElement方法一致。</p>
<div class="hlcode"><pre><span class="kd">var</span> <span class="nx">webdriver</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;selenium-webdriver&#39;</span><span class="p">),</span>
  <span class="nx">By</span> <span class="o">=</span> <span class="nx">webdriver</span><span class="p">.</span><span class="nx">By</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">dr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">webdriver</span><span class="p">.</span><span class="nx">Builder</span><span class="p">().</span><span class="nx">forBrowser</span><span class="p">(</span><span class="s1">&#39;chrome&#39;</span><span class="p">).</span><span class="nx">build</span><span class="p">();</span>
<span class="nx">dr</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;http://www.testclass.net/selenium_javascript/&#39;</span><span class="p">);</span>

<span class="nx">dr</span><span class="p">.</span><span class="nx">findElements</span><span class="p">(</span><span class="nx">By</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s1">&#39;.post-stub a&#39;</span><span class="p">)).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">links</span><span class="p">){</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">links</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">links</span><span class="cp">[</span><span class="nx">i</span><span class="cp">]</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;href&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">href</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">href</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">});</span>
<span class="nx">dr</span><span class="p">.</span><span class="nx">quit</span><span class="p">();</span>
</pre></div>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2019 Xu XueHua.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.</p>
        <p>Site Generated 2019-07-16 14:47:29</p>
      </span>
    </div>

    
    
  </body>
</html>