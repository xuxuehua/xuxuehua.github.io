<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>basic_knowledge - Xu XueHua</title>
    <meta name="keywords" content="Xu XueHua"/>
    <meta name="description" content="Xu XueHua's public notes"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>

  <body>
    <div id="container">
      
<div id="header">
  <div class="post-nav"><a href="/">Home</a>&nbsp;&#187;&nbsp;<a href="/#Aws">Aws</a>&nbsp;&#187;&nbsp;basic_knowledge
    <span class="updated">Page Updated&nbsp;
      2019-06-24 09:43
    </span></div>
</div>
<div class="clearfix"></div>

<div class="page_title">basic_knowledge</div>

  <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#aws">AWS</a><ul>
<li><a href="#bootstrapping">Bootstrapping</a><ul>
<li><a href="#running-custom-scripts">Running custom scripts</a></li>
</ul>
</li>
<li><a href="#instance-metadata">Instance Metadata</a><ul>
<li><a href="#retrieving">Retrieving</a></li>
</ul>
</li>
<li><a href="#instance-user-data">Instance User data</a></li>
<li><a href="#roles">Roles</a></li>
<li><a href="#security-groups">Security Groups</a></li>
</ul>
</li>
<li><a href="#terminology">Terminology</a><ul>
<li><a href="#scaling-out">Scaling Out</a></li>
<li><a href="#scaling-in">Scaling In</a></li>
<li><a href="#scaling-up">Scaling Up</a></li>
<li><a href="#scaling-down">Scaling Down</a></li>
</ul>
</li>
<li><a href="#object-storages3-vs-file-storageefs-vs-block-storageebsec2">Object Storage(S3) vs File Storage(EFS) vs Block Storage(EBS/EC2)</a></li>
<li><a href="#aws-cli">AWS CLI</a><ul>
<li><a href="#linux">Linux</a></li>
<li><a href="#mac-osx">Mac OSX</a></li>
</ul>
</li>
</ul>
</div>
<h1 id="aws">AWS</h1>
<h2 id="bootstrapping">Bootstrapping</h2>
<p>The process to get an application up and running on an EC2 instance or other AWS services</p>
<h3 id="running-custom-scripts">Running custom scripts</h3>
<h2 id="instance-metadata">Instance Metadata</h2>
<p>Data about your instance</p>
<p>Can be used to configure or manage a running instance</p>
<h3 id="retrieving">Retrieving</h3>
<div class="hlcode"><pre><span class="n">curl</span> <span class="n">http</span><span class="o">:</span><span class="c1">//169.254.169.254/latest/meta-data</span>
</pre></div>


<p>returned as text (Content-type: text/plain)</p>
<h2 id="instance-user-data">Instance User data</h2>
<p>Can be passed to the instance at launch</p>
<p>Can be used to perform common automated configuration tasks</p>
<p>Runs scripts after the instance starts</p>
<h2 id="roles">Roles</h2>
<p>Allow programs to control your AWS account</p>
<p>Packaged permissions</p>
<p>Apply to instances and containers</p>
<h2 id="security-groups">Security Groups</h2>
<p>Controlled by roles</p>
<p>Allow network traffic between instances</p>
<h1 id="terminology">Terminology</h1>
<h2 id="scaling-out">Scaling Out</h2>
<p>水平扩展 Horizontal scaling</p>
<h2 id="scaling-in">Scaling In</h2>
<p>水平收缩 A form of horizontal scaling</p>
<h2 id="scaling-up">Scaling Up</h2>
<p>垂直扩展 Vertical scaling</p>
<h2 id="scaling-down">Scaling Down</h2>
<p>垂直收缩 A form of vertical scaling</p>
<h1 id="object-storages3-vs-file-storageefs-vs-block-storageebsec2">Object Storage(S3) vs File Storage(EFS) vs Block Storage(EBS/EC2)</h1>
<p>File Storage 也称为文件级存储或基于文件的存储，数据会以单条信息的形式存储在文件夹中。需要访问该数据时，您的计算机需要知道相应的查找路径<br />
Accessed by path<br />
Data stored as files in folder hierarchies<br />
Easily searchable</p>
<p>Block Storage会将数据拆分成块，并单独存储各个块。每个数据块都有一个唯一标识符，所以存储系统能将较小的数据存放在最方便的位置。块存储通常会被配置为将数据与用户环境分离，并会将数据分布到可以更好地为其提供服务的多个环境中。然后，当用户请求数据时，底层存储软件会重新组装来自这些环境的数据块，并将它们呈现给用户。</p>
<p>Object Storage，也称为基于对象的存储，是一种扁平结构，其中的文件被拆分成多个部分并散布在多个硬件间。在对象存储中，数据会被分解为称为“对象”的离散单元，并保存在单个存储库中，而不是作为文件夹中的文件或服务器上的块来保存。<br />
Which can store any blob of data or files, videos, images, PDFs, text, documents</p>
<h1 id="aws-cli">AWS CLI</h1>
<h2 id="linux">Linux</h2>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">curl</span> <span class="s">&quot;https://s3.amazonaws.com/aws-cli/awscli-bundle.zip&quot;</span> <span class="o">-</span><span class="n">o</span> <span class="s">&quot;awscli-bundle.zip&quot;</span>
<span class="err">$</span> <span class="n">unzip</span> <span class="n">awscli</span><span class="o">-</span><span class="n">bundle</span><span class="p">.</span><span class="n">zip</span>
<span class="err">$</span> <span class="n">sudo</span> <span class="p">.</span><span class="o">/</span><span class="n">awscli</span><span class="o">-</span><span class="n">bundle</span><span class="o">/</span><span class="n">install</span> <span class="o">-</span><span class="n">i</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">aws</span> <span class="o">-</span><span class="n">b</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">aws</span>
</pre></div>


<p>Add your Access Key ID and Secret Access Key to ~/<code>.aws/config</code> using this format:</p>
<div class="hlcode"><pre><span class="k">[default]</span>
<span class="na">aws_access_key_id</span> <span class="o">=</span> <span class="s">&lt;access key id&gt;</span>
<span class="na">aws_secret_access_key</span> <span class="o">=</span> <span class="s">&lt;secret access key&gt;</span>
<span class="na">region</span> <span class="o">=</span> <span class="s">us-east-1</span>
</pre></div>


<p>Protect the config file:</p>
<div class="hlcode"><pre><span class="n">chmod</span> <span class="mi">600</span> <span class="o">~/</span><span class="p">.</span><span class="n">aws</span><span class="o">/</span><span class="n">config</span>
</pre></div>


<p>Optionally, you can set an environment variable pointing to the config file. This is especially important if you want to keep it in a non-standard location. For future convenience, also add this line to your ~/.bashrc file:</p>
<div class="hlcode"><pre><span class="n">export</span> <span class="n">AWS_CONFIG_FILE</span><span class="o">=</span><span class="err">$</span><span class="n">HOME</span><span class="o">/</span><span class="p">.</span><span class="n">aws</span><span class="o">/</span><span class="n">config</span>
</pre></div>


<h2 id="mac-osx">Mac OSX</h2>
<div class="hlcode"><pre><span class="n">curl</span> <span class="s">&quot;https://s3.amazonaws.com/aws-cli/awscli-bundle.zip&quot;</span> <span class="o">-</span><span class="n">o</span> <span class="s">&quot;awscli-bundle.zip&quot;</span>

<span class="n">unzip</span> <span class="n">awscli</span><span class="o">-</span><span class="n">bundle</span><span class="p">.</span><span class="n">zip</span>

<span class="n">sudo</span> <span class="p">.</span><span class="o">/</span><span class="n">awscli</span><span class="o">-</span><span class="n">bundle</span><span class="o">/</span><span class="n">install</span> <span class="o">-</span><span class="n">i</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">aws</span> <span class="o">-</span><span class="n">b</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">aws</span>
</pre></div>


<p>Example</p>
<p><img alt="img" src="https://snag.gy/Rvb5Y6.jpg" /></p>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2020 Xu XueHua.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.</p>
        <p>Site Generated 2020-01-02 08:56:17</p>
      </span>
    </div>

    
    
  </body>
</html>