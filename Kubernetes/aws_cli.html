<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>aws_cli - Xu XueHua</title>
    <meta name="keywords" content="Xu XueHua"/>
    <meta name="description" content="Xu XueHua's public notes"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>

  <body>
    <div id="container">
      
<div id="header">
  <div class="post-nav"><a href="/">Home</a>&nbsp;&#187;&nbsp;<a href="/#Kubernetes">Kubernetes</a>&nbsp;&#187;&nbsp;aws_cli
    <span class="updated">Page Updated&nbsp;
      2019-11-10 11:46
    </span></div>
</div>
<div class="clearfix"></div>

<div class="page_title">aws_cli</div>

  <p>[toc]</p>
<h1 id="aws-cli">AWS CLI</h1>
<h2 id="installation">Installation</h2>
<div class="hlcode"><pre><span class="n">curl</span> <span class="s">&quot;https://s3.amazonaws.com/aws-cli/awscli-bundle.zip&quot;</span> <span class="o">-</span><span class="n">o</span> <span class="s">&quot;awscli-bundle.zip&quot;</span> <span class="o">&amp;&amp;</span> <span class="err">\</span> <span class="n">unzip</span> <span class="n">awscli</span><span class="o">-</span><span class="n">bundle</span><span class="p">.</span><span class="n">zip</span> <span class="o">&amp;&amp;</span> \
<span class="n">cd</span> <span class="n">awscli</span><span class="o">-</span><span class="n">bundle</span> <span class="o">&amp;&amp;</span> \
<span class="n">sudo</span> <span class="p">.</span><span class="o">/</span><span class="n">awscli</span><span class="o">-</span><span class="n">bundle</span><span class="o">/</span><span class="n">install</span> <span class="o">-</span><span class="n">i</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">aws</span> <span class="o">-</span><span class="n">b</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">aws</span>
</pre></div>


<h2 id="named-profiles">Named Profiles</h2>
<p><strong><code>~/.aws/credentials</code></strong> (Linux &amp; Mac) </p>
<div class="hlcode"><pre><span class="k">[default]</span>
<span class="na">aws_access_key_id</span><span class="o">=</span><span class="s">AKIAIOSFODNN7EXAMPLE</span>
<span class="na">aws_secret_access_key</span><span class="o">=</span><span class="s">wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY</span>

<span class="k">[user1]</span>
<span class="na">aws_access_key_id</span><span class="o">=</span><span class="s">AKIAI44QH8DHBEXAMPLE</span>
<span class="na">aws_secret_access_key</span><span class="o">=</span><span class="s">je7MtGbClwBF/2Zp9Utk/h3yCo8nvbEXAMPLEKEY</span>
</pre></div>


<p>Each profile can specify different credentials—perhaps from different IAM users—and can also specify different AWS Regions and output formats.</p>
<p><strong><code>~/.aws/config</code></strong> (Linux &amp; Mac) </p>
<div class="hlcode"><pre><span class="k">[default]</span>
<span class="na">region</span><span class="o">=</span><span class="s">us-west-2</span>
<span class="na">output</span><span class="o">=</span><span class="s">json</span>

<span class="k">[profile user1]</span>
<span class="na">region</span><span class="o">=</span><span class="s">us-east-1</span>
<span class="na">output</span><span class="o">=</span><span class="s">text</span>
</pre></div>


<p>Important</p>
<p>The <code>credentials</code> file uses a different naming format than the CLI <code>config</code> file for named profiles. Include the prefix word "<code>profile</code>" only when configuring a named profile in the <code>config</code> file. Do <strong>*not*</strong> use the word <code>profile</code> when creating an entry in the <code>credentials</code> file.</p>
<h2 id="using-profiles-with-the-aws-cli">Using Profiles with the AWS CLI</h2>
<p>To use a named profile, add the <code>--profile *</code>profile-name<code>*</code> option to your command. The following example lists all of your Amazon EC2 instances using the credentials and settings defined in the <code>user1</code> profile from the previous example files.</p>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">aws</span> <span class="n">ec2</span> <span class="n">describe</span><span class="o">-</span><span class="n">instances</span> <span class="o">--</span><span class="n">profile</span> <span class="n">user1</span>
</pre></div>


<p>To use a named profile for multiple commands, you can avoid specifying the profile in every command by setting the <code>AWS_PROFILE</code> environment variable at the command line.</p>
<p><strong>Linux, macOS, or Unix</strong></p>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">export</span> <span class="n">AWS_PROFILE</span><span class="o">=</span><span class="n">user1</span>
</pre></div>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2020 Xu XueHua.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.</p>
        <p>Site Generated 2020-01-24 16:55:26</p>
      </span>
    </div>

    
    
  </body>
</html>